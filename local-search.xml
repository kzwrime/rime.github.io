<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>(。・∀・)ノ</title>
    <link href="/2050/06/welcome/"/>
    <url>/2050/06/welcome/</url>
    
    <content type="html"><![CDATA[<p>Welcome to my new blog !</p><p>The following articles may be interesting or useful to you. To know more about me or just to explore this website, you can click bottons of the navigation menu at the head of the page. Thank you for visiting.</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Dijkstra BFS DFS 最短路径</title>
    <link href="/2020/07/102_Dijkstra/"/>
    <url>/2020/07/102_Dijkstra/</url>
    
    <content type="html"><![CDATA[<h1 id="dijkstra-bfs-dfs-最短路径"><a class="markdownIt-Anchor" href="#dijkstra-bfs-dfs-最短路径"></a> Dijkstra BFS DFS 最短路径</h1><p>本文用 c 实现 <code>DFS</code>, <code>BFS</code>, <code>Dijkstra</code> 寻找最短路径的算法。伪码和图文说明可以查看本博客的 <a href="/2020/%E5%9B%BE%E8%AE%BA%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E7%AE%97%E6%B3%95/">另一篇文章</a>。</p><p>理论上<code>BFS</code>和<code>DFS</code>找到的只是一条路径，但加以改造(加上更新路程)也是可以找最短路径的。此外除了数据结构不同，其实我的三种实现几乎一样 。。。</p><p>本文的一些数据结构的函数写着写着没用到，那就放那里吧，数据结构建议不看，如有需要可以点击下面各个小三角形查看折叠的数据结构代码。</p><details><summary>链表</summary><pre><code class="hljs c"><span class="hljs-comment">/* 链表 */</span><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">chainnode</span> &#123;</span>    <span class="hljs-keyword">int</span> element;    <span class="hljs-keyword">int</span> weight;    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">chainnode</span>* <span class="hljs-title">next</span>;</span>&#125; ChainNode;<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">chain</span> &#123;</span>    ChainNode* first;    ChainNode* last;&#125; chain;<span class="hljs-function">ChainNode* <span class="hljs-title">chainBegin</span><span class="hljs-params">(chain* ch)</span></span>;<span class="hljs-function">ChainNode* <span class="hljs-title">chainEnd</span><span class="hljs-params">(chain* ch)</span></span>;<span class="hljs-function">chain* <span class="hljs-title">createChain</span><span class="hljs-params">()</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">emptyChain</span><span class="hljs-params">(chain* ch)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">insertChain</span><span class="hljs-params">(chain* ch, <span class="hljs-keyword">int</span> data, <span class="hljs-keyword">int</span> weight)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">chainErase</span><span class="hljs-params">(chain* ch, <span class="hljs-keyword">int</span> data)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteChain</span><span class="hljs-params">(chain* ch)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getEleChain</span><span class="hljs-params">(chain* ch, <span class="hljs-keyword">int</span> index)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getWeight</span><span class="hljs-params">(chain* ch, <span class="hljs-keyword">int</span> data)</span></span>;<span class="hljs-function">chain* <span class="hljs-title">read</span><span class="hljs-params">(FILE* fp, <span class="hljs-keyword">int</span> vv, <span class="hljs-keyword">int</span> ww)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deread</span><span class="hljs-params">(chain* lnn, <span class="hljs-keyword">int</span> vv)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">popChain</span><span class="hljs-params">(chain* lnn)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pushChain</span><span class="hljs-params">(chain* lnn, <span class="hljs-keyword">int</span> data)</span></span>;<span class="hljs-function">ChainNode* <span class="hljs-title">chainBegin</span><span class="hljs-params">(chain* ch)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">return</span> ch-&gt;first;&#125;<span class="hljs-function">ChainNode* <span class="hljs-title">chainEnd</span><span class="hljs-params">(chain* ch)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">return</span> ch-&gt;last;&#125;<span class="hljs-function">chain* <span class="hljs-title">createChain</span><span class="hljs-params">()</span></span><span class="hljs-function"></span>&#123;    chain* newChain = (chain*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(chain));    newChain-&gt;first = <span class="hljs-literal">NULL</span>;    newChain-&gt;last = <span class="hljs-literal">NULL</span>;    <span class="hljs-keyword">return</span> newChain;&#125;<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">insertChain</span><span class="hljs-params">(chain* ch, <span class="hljs-keyword">int</span> data, <span class="hljs-keyword">int</span> weight)</span></span><span class="hljs-function"></span>&#123;    ChainNode* newNode = (ChainNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(ChainNode));    newNode-&gt;weight = weight;    newNode-&gt;element = data;    newNode-&gt;next = <span class="hljs-literal">NULL</span>;    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == ch-&gt;first) &#123;        ch-&gt;first = newNode;        ch-&gt;last = newNode;        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    &#125; <span class="hljs-keyword">else</span> &#123;        ch-&gt;last-&gt;next = newNode;        ch-&gt;last = newNode;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">chainErase</span><span class="hljs-params">(chain* ch, <span class="hljs-keyword">int</span> data)</span></span><span class="hljs-function"></span>&#123;    ChainNode* node = ch-&gt;first;    <span class="hljs-keyword">if</span> (node-&gt;element == data) &#123;        ch-&gt;first = node-&gt;next;        <span class="hljs-built_in">free</span>(node);        node == <span class="hljs-literal">NULL</span>;        <span class="hljs-keyword">return</span> data;    &#125;    ChainNode* prenode = node;    node = node-&gt;next;    <span class="hljs-keyword">while</span> (node != <span class="hljs-literal">NULL</span>) &#123;        <span class="hljs-keyword">if</span> (node-&gt;element == data) &#123;            <span class="hljs-keyword">if</span> (ch-&gt;last == node) &#123;                ch-&gt;last = prenode;            &#125;            prenode-&gt;next = node-&gt;next;            <span class="hljs-built_in">free</span>(node);            node == <span class="hljs-literal">NULL</span>;            <span class="hljs-keyword">return</span> data;        &#125;        prenode = node;        node = node-&gt;next;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteChain</span><span class="hljs-params">(chain* ch)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == ch-&gt;first) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    &#125;    ChainNode* node = ch-&gt;first;    ChainNode* nextNode = node-&gt;next;    <span class="hljs-keyword">while</span> (nextNode != <span class="hljs-literal">NULL</span>) &#123;        <span class="hljs-built_in">free</span>(node);        node = nextNode;        nextNode = node-&gt;next;    &#125;    <span class="hljs-built_in">free</span>(node);    <span class="hljs-built_in">free</span>(ch);    ch = <span class="hljs-literal">NULL</span>;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getEleChain</span><span class="hljs-params">(chain* ch, <span class="hljs-keyword">int</span> index)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == ch-&gt;first) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;    &#125;    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;    ChainNode* node = ch-&gt;first;    <span class="hljs-keyword">while</span> (node != <span class="hljs-literal">NULL</span>) &#123;        <span class="hljs-keyword">if</span> (i == index) &#123;            <span class="hljs-keyword">return</span> node-&gt;element;        &#125;        i++;        node = node-&gt;next;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getWeight</span><span class="hljs-params">(chain* ch, <span class="hljs-keyword">int</span> data)</span></span><span class="hljs-function"></span>&#123;    ChainNode* node = ch-&gt;first;    <span class="hljs-keyword">while</span> (node != <span class="hljs-literal">NULL</span>) &#123;        <span class="hljs-keyword">if</span> (node-&gt;element == data) &#123;            <span class="hljs-keyword">return</span> node-&gt;weight;        &#125;        node = node-&gt;next;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<span class="hljs-function">chain* <span class="hljs-title">read</span><span class="hljs-params">(FILE* fp, <span class="hljs-keyword">int</span> vv, <span class="hljs-keyword">int</span> ww)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">int</span> a[<span class="hljs-number">3</span>];    chain* ln = (chain*)<span class="hljs-built_in">malloc</span>(vv * <span class="hljs-keyword">sizeof</span>(chain));    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; vv; i++) &#123;        ln[i].first = <span class="hljs-literal">NULL</span>;        ln[i].last = <span class="hljs-literal">NULL</span>;    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;begin scaning....\n&quot;</span>);    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fscanf</span>(fp, <span class="hljs-string">&quot;%d %d %d&quot;</span>, &amp;a[<span class="hljs-number">0</span>], &amp;a[<span class="hljs-number">1</span>], &amp;a[<span class="hljs-number">2</span>]) != EOF) &#123;        insertChain(&amp;(ln[a[<span class="hljs-number">0</span>]]), a[<span class="hljs-number">1</span>], a[<span class="hljs-number">2</span>]);        <span class="hljs-comment">// insertChain(&amp;(ln[a[1]]), a[0], a[2]); // 变为无向图，做弱连通测试</span>    &#125;    <span class="hljs-comment">// *lnn = ln;</span>    <span class="hljs-comment">// printf(&quot;ln=%d\n&quot;,ln);</span>    <span class="hljs-keyword">return</span> ln;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deread</span><span class="hljs-params">(chain* lnn, <span class="hljs-keyword">int</span> vv)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; vv; i++) &#123;        deleteChain(&amp;(lnn[i]));    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">popChain</span><span class="hljs-params">(chain* lnn)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == lnn-&gt;first) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;    &#125;    <span class="hljs-keyword">int</span> data = lnn-&gt;first-&gt;element;    ChainNode* old = lnn-&gt;first;    lnn-&gt;first = lnn-&gt;first-&gt;next;    <span class="hljs-built_in">free</span>(old);    <span class="hljs-keyword">return</span> data;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pushChain</span><span class="hljs-params">(chain* lnn, <span class="hljs-keyword">int</span> data)</span></span><span class="hljs-function"></span>&#123;    ChainNode* newNode;    newNode = (ChainNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(ChainNode));    newNode-&gt;element = data;    newNode-&gt;next = lnn-&gt;first;    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == lnn-&gt;first) &#123;        lnn-&gt;last = newNode;    &#125;    lnn-&gt;first = newNode;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre></details><h2 id="dijkstra"><a class="markdownIt-Anchor" href="#dijkstra"></a> Dijkstra</h2><details><summary>优先队列（小根堆）</summary><pre><code class="hljs c"><span class="hljs-comment">/* 优先队列（小根堆） */</span><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span>    <span class="hljs-keyword">int</span>* heap;    <span class="hljs-keyword">int</span> arrayLength;    <span class="hljs-keyword">int</span> heapSize;&#125; minHeap;<span class="hljs-function">minHeap* <span class="hljs-title">minHeapCreate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> theSize)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">popMinHeap</span><span class="hljs-params">(minHeap* mhp, <span class="hljs-keyword">int</span>* disFromSource)</span></span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushMinHeap</span><span class="hljs-params">(minHeap* mhp, <span class="hljs-keyword">int</span> data, <span class="hljs-keyword">int</span>* disFromSource)</span></span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">minHeapDestory</span><span class="hljs-params">(minHeap* mhp)</span></span>;<span class="hljs-comment">// 注意堆的序号，从1开始！！！</span><span class="hljs-function">minHeap* <span class="hljs-title">minHeapCreate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> theSize)</span></span><span class="hljs-function"></span>&#123;    minHeap* mhp;    mhp = (minHeap*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(minHeap));    mhp-&gt;heapSize = <span class="hljs-number">0</span>;    mhp-&gt;arrayLength = theSize;    mhp-&gt;heap = (<span class="hljs-keyword">int</span>*)<span class="hljs-built_in">malloc</span>(theSize * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>));    <span class="hljs-keyword">return</span> mhp;&#125;<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">popMinHeap</span><span class="hljs-params">(minHeap* mhp, <span class="hljs-keyword">int</span>* disFromSource)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> == mhp-&gt;heapSize) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;    &#125;    <span class="hljs-keyword">int</span> re = mhp-&gt;heap[<span class="hljs-number">1</span>];    <span class="hljs-keyword">int</span> lastElement = mhp-&gt;heap[mhp-&gt;heapSize--]; <span class="hljs-comment">// 先运算后自减</span>    <span class="hljs-comment">// 为 lastElement 寻找位置</span>    <span class="hljs-keyword">int</span> currentNode = <span class="hljs-number">1</span>;    <span class="hljs-keyword">int</span> child = <span class="hljs-number">2</span>;    <span class="hljs-keyword">while</span> (child &lt;= mhp-&gt;heapSize) &#123;        <span class="hljs-comment">//  mhp-&gt;heap[child] 应该是 currentNode 更小的孩子</span>        <span class="hljs-keyword">if</span> (child &lt; mhp-&gt;heapSize &amp;&amp; disFromSource[mhp-&gt;heap[child]] &gt; disFromSource[mhp-&gt;heap[child + <span class="hljs-number">1</span>]]) &#123;            child++;        &#125;        <span class="hljs-keyword">if</span> (disFromSource[lastElement] &lt;= disFromSource[mhp-&gt;heap[currentNode]]) &#123;            <span class="hljs-keyword">break</span>;        &#125;        mhp-&gt;heap[currentNode] = mhp-&gt;heap[child];        currentNode = child;        child *= <span class="hljs-number">2</span>;    &#125;    mhp-&gt;heap[currentNode] = lastElement;    <span class="hljs-keyword">return</span> re;&#125;<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">pushMinHeap</span><span class="hljs-params">(minHeap* mhp, <span class="hljs-keyword">int</span> data, <span class="hljs-keyword">int</span>* disFromSource)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-comment">// 适当时增加堆的数组长度</span>    <span class="hljs-keyword">if</span> (mhp-&gt;heapSize == mhp-&gt;arrayLength - <span class="hljs-number">1</span>) &#123;        <span class="hljs-keyword">int</span>* newHeap;        newHeap = (<span class="hljs-keyword">int</span>*)<span class="hljs-built_in">malloc</span>(mhp-&gt;arrayLength * <span class="hljs-number">2</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>));        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; mhp-&gt;arrayLength; i++) &#123;            newHeap[i] = mhp-&gt;heap[i];        &#125;        <span class="hljs-built_in">free</span>(mhp-&gt;heap);        mhp-&gt;heap = newHeap;        mhp-&gt;arrayLength *= <span class="hljs-number">2</span>;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, mhp-&gt;arrayLength);    &#125;    <span class="hljs-comment">// 为 data 寻找位置</span>    mhp-&gt;heapSize++;    <span class="hljs-keyword">int</span> currentNode = mhp-&gt;heapSize;    <span class="hljs-keyword">while</span> (currentNode != <span class="hljs-number">1</span> &amp;&amp; disFromSource[mhp-&gt;heap[currentNode / <span class="hljs-number">2</span>]] &gt; disFromSource[data]) &#123;        <span class="hljs-comment">// 和父节点互换</span>        mhp-&gt;heap[currentNode] = mhp-&gt;heap[currentNode / <span class="hljs-number">2</span>];        currentNode /= <span class="hljs-number">2</span>;    &#125;    mhp-&gt;heap[currentNode] = data;&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">minHeapDestory</span><span class="hljs-params">(minHeap* mhp)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-built_in">free</span>(mhp-&gt;heap);    mhp-&gt;heap = <span class="hljs-literal">NULL</span>;    <span class="hljs-built_in">free</span>(mhp);    mhp = <span class="hljs-literal">NULL</span>;&#125;</code></pre></details><pre><code class="hljs c"><span class="hljs-comment">/* array2d 是链表数组，vv 是点的总数，source为起点, preNode和disFromSource为输出 */</span><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(chain* array2d, <span class="hljs-keyword">int</span> vv, <span class="hljs-keyword">int</span> source, <span class="hljs-keyword">int</span>* preNode, <span class="hljs-keyword">int</span>* disFromSource)</span></span><span class="hljs-function"></span>&#123;    chain* ln = array2d;    minHeap* newReachableNode;  <span class="hljs-comment">// 小根堆实现的优先队列</span>    newReachableNode = minHeapCreate((vv / <span class="hljs-number">100</span> &gt; <span class="hljs-number">20</span>) ? vv / <span class="hljs-number">100</span> : <span class="hljs-number">20</span>);    <span class="hljs-comment">/* 所有和起点相邻的点的距离，设置他们的前一个点为起点，并全部压入优先队列 */</span>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; vv; i++) &#123;        disFromSource[i] = <span class="hljs-number">0</span>;        preNode[i] = <span class="hljs-number">-1</span>;    &#125;    ChainNode* it = array2d[source].first;    <span class="hljs-keyword">while</span> (it != <span class="hljs-literal">NULL</span>) &#123;        disFromSource[it-&gt;element] = it-&gt;weight;        preNode[it-&gt;element] = source;        pushMinHeap(newReachableNode, it-&gt;element, disFromSource);        it = it-&gt;next;    &#125;    disFromSource[source] = <span class="hljs-number">0</span>;    preNode[source] = <span class="hljs-number">-2</span>;    <span class="hljs-keyword">int</span> v;    <span class="hljs-keyword">while</span> (<span class="hljs-number">0</span> != newReachableNode-&gt;heapSize) &#123;        v = popMinHeap(newReachableNode, disFromSource);    <span class="hljs-comment">// 弹出目前距离最小的</span>        <span class="hljs-comment">/* 更新所有和 v 相邻， 没到过或者距离可以更小的点，且没到过则入优先队列 */</span>        ChainNode* iterator = array2d[v].first;        <span class="hljs-keyword">while</span> (iterator != <span class="hljs-literal">NULL</span>) &#123;            <span class="hljs-keyword">if</span> ((preNode[iterator-&gt;element] == <span class="hljs-number">-1</span> ||                 disFromSource[iterator-&gt;element] &gt; disFromSource[v] + iterator-&gt;weight)) &#123;                disFromSource[iterator-&gt;element] = disFromSource[v] + iterator-&gt;weight;                <span class="hljs-keyword">if</span> (<span class="hljs-number">-1</span> == preNode[iterator-&gt;element]) &#123;                    pushMinHeap(newReachableNode, iterator-&gt;element, disFromSource);                &#125;                preNode[iterator-&gt;element] = v;            &#125;            iterator = iterator-&gt;next;        &#125;    &#125;    minHeapDestory(newReachableNode);    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><h2 id="bfs"><a class="markdownIt-Anchor" href="#bfs"></a> BFS</h2><details><summary>队列</summary><pre><code class="hljs c"><span class="hljs-comment">/* 队列 */</span><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">arrayQueue</span> &#123;</span>    <span class="hljs-keyword">int</span> nOfQueue;    <span class="hljs-keyword">int</span>* <span class="hljs-built_in">array</span>;    <span class="hljs-keyword">int</span> writePointer, readPointer;    <span class="hljs-keyword">int</span> <span class="hljs-built_in">free</span>;&#125; ArrayQueue;<span class="hljs-function">ArrayQueue* <span class="hljs-title">aCQ_create</span><span class="hljs-params">(<span class="hljs-keyword">int</span> nOfQueue)</span></span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">aCQ_delete</span><span class="hljs-params">(ArrayQueue* aCQ)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">aCQ_empty</span><span class="hljs-params">(ArrayQueue* aCQ)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">enQueue</span><span class="hljs-params">(ArrayQueue* aCQ, <span class="hljs-keyword">int</span> var)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deQueue</span><span class="hljs-params">(ArrayQueue* aCQ)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">headOfQueue</span><span class="hljs-params">(ArrayQueue* aCQ)</span></span>;<span class="hljs-function">ArrayQueue* <span class="hljs-title">aCQ_create</span><span class="hljs-params">(<span class="hljs-keyword">int</span> nOfQueue)</span></span><span class="hljs-function"></span>&#123;    ArrayQueue* aCQ = (ArrayQueue*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(ArrayQueue));    aCQ-&gt;nOfQueue = nOfQueue;    aCQ-&gt;<span class="hljs-built_in">free</span> = nOfQueue;    aCQ-&gt;writePointer = <span class="hljs-number">0</span>;    aCQ-&gt;readPointer = <span class="hljs-number">0</span>;    aCQ-&gt;<span class="hljs-built_in">array</span> = (<span class="hljs-keyword">int</span>*)<span class="hljs-built_in">malloc</span>(nOfQueue * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>));    <span class="hljs-keyword">return</span> aCQ;&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">aCQ_delete</span><span class="hljs-params">(ArrayQueue* aCQ)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-built_in">free</span>(aCQ-&gt;<span class="hljs-built_in">array</span>);    aCQ-&gt;<span class="hljs-built_in">array</span> = <span class="hljs-literal">NULL</span>;    <span class="hljs-built_in">free</span>(aCQ);    aCQ = <span class="hljs-literal">NULL</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">aCQ_empty</span><span class="hljs-params">(ArrayQueue* aCQ)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (aCQ-&gt;<span class="hljs-built_in">free</span> == aCQ-&gt;nOfQueue) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">enQueue</span><span class="hljs-params">(ArrayQueue* aCQ, <span class="hljs-keyword">int</span> var)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> == aCQ-&gt;<span class="hljs-built_in">free</span>) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;    &#125;    aCQ-&gt;<span class="hljs-built_in">array</span>[aCQ-&gt;writePointer] = var;    <span class="hljs-comment">// aCQ-&gt;writePointer=(aCQ-&gt;writePointer+1)%(aCQ-&gt;nOfQueue);</span>    aCQ-&gt;writePointer++;    aCQ-&gt;<span class="hljs-built_in">free</span>--;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deQueue</span><span class="hljs-params">(ArrayQueue* aCQ)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (aCQ-&gt;<span class="hljs-built_in">free</span> == aCQ-&gt;nOfQueue) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;    &#125;    <span class="hljs-keyword">int</span> data = aCQ-&gt;<span class="hljs-built_in">array</span>[aCQ-&gt;readPointer];    <span class="hljs-comment">// aCQ-&gt;readPointer=(aCQ-&gt;readPointer+1)%(aCQ-&gt;nOfQueue);</span>    aCQ-&gt;readPointer++;    aCQ-&gt;<span class="hljs-built_in">free</span>++;    <span class="hljs-keyword">return</span> data;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">headOfQueue</span><span class="hljs-params">(ArrayQueue* aCQ)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">return</span> aCQ-&gt;<span class="hljs-built_in">array</span>[aCQ-&gt;readPointer];&#125;</code></pre></details><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(chain* array2d, <span class="hljs-keyword">int</span> vv, <span class="hljs-keyword">int</span> source, <span class="hljs-keyword">int</span>* preNode, <span class="hljs-keyword">int</span>* disFromSource)</span></span><span class="hljs-function"></span>&#123;    ArrayQueue* <span class="hljs-built_in">queue</span> = aCQ_create(vv);    <span class="hljs-comment">/* 所有和起点相邻的点的距离，设置他们的前一个点为起点 */</span>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; vv; i++) &#123;        disFromSource[i] = <span class="hljs-number">0</span>;        preNode[i] = <span class="hljs-number">-1</span>;    &#125;    ChainNode* it = array2d[source].first;    <span class="hljs-keyword">while</span> (it != <span class="hljs-literal">NULL</span>) &#123;        disFromSource[it-&gt;element] = it-&gt;weight;        preNode[it-&gt;element] = source;        it = it-&gt;next;    &#125;    disFromSource[source] = <span class="hljs-number">0</span>;    preNode[source] = <span class="hljs-number">-2</span>;    enQueue(<span class="hljs-built_in">queue</span>, source);    <span class="hljs-keyword">while</span> (!aCQ_empty(<span class="hljs-built_in">queue</span>)) &#123;        <span class="hljs-keyword">int</span> v = deQueue(<span class="hljs-built_in">queue</span>);        <span class="hljs-comment">/* 更新所有和 v 相邻， 没到过或者距离可以更小的点，且没到过则入队列 */</span>        ChainNode* iterator = array2d[v].first;        <span class="hljs-keyword">while</span> (iterator != <span class="hljs-literal">NULL</span>) &#123;            <span class="hljs-keyword">if</span> ((preNode[iterator-&gt;element] == <span class="hljs-number">-1</span> || disFromSource[iterator-&gt;element] &gt; disFromSource[v] + iterator-&gt;weight)) &#123;                disFromSource[iterator-&gt;element] = disFromSource[v] + iterator-&gt;weight;                enQueue(<span class="hljs-built_in">queue</span>, iterator-&gt;element);  <span class="hljs-comment">// 其实队列中可能重复，但问题不大</span>                preNode[iterator-&gt;element] = v;            &#125;            iterator = iterator-&gt;next;        &#125;    &#125;    <span class="hljs-comment">// printf(&quot;success!\n&quot;);</span>    preNode[source] = <span class="hljs-number">-2</span>;    aCQ_delete(<span class="hljs-built_in">queue</span>);&#125;</code></pre><h2 id="dfs"><a class="markdownIt-Anchor" href="#dfs"></a> DFS</h2><details><summary>栈</summary><pre><code class="hljs c"><span class="hljs-comment">/* 栈 */</span><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">arrayStack</span> &#123;</span>    <span class="hljs-keyword">int</span> nOfArray;    <span class="hljs-keyword">int</span>* <span class="hljs-built_in">array</span>;    <span class="hljs-keyword">int</span> pointer;&#125; ArrayStack;<span class="hljs-function">ArrayStack* <span class="hljs-title">aS_create</span><span class="hljs-params">(<span class="hljs-keyword">int</span> nOfArray)</span></span>;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">aS_delete</span><span class="hljs-params">(ArrayStack* aS)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">empty</span><span class="hljs-params">(ArrayStack* aS)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">push</span><span class="hljs-params">(ArrayStack* aS, <span class="hljs-keyword">int</span> var)</span></span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pop</span><span class="hljs-params">(ArrayStack* aS)</span></span>;<span class="hljs-function">ArrayStack* <span class="hljs-title">aS_create</span><span class="hljs-params">(<span class="hljs-keyword">int</span> nOfArray)</span></span><span class="hljs-function"></span>&#123;    ArrayStack* aS = (ArrayStack*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(ArrayStack));    aS-&gt;nOfArray = nOfArray;    aS-&gt;pointer = <span class="hljs-number">0</span>;    aS-&gt;<span class="hljs-built_in">array</span> = (<span class="hljs-keyword">int</span>*)<span class="hljs-built_in">malloc</span>(nOfArray * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>));    <span class="hljs-keyword">return</span> aS;&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">aS_delete</span><span class="hljs-params">(ArrayStack* aS)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-built_in">free</span>(aS-&gt;<span class="hljs-built_in">array</span>);    aS-&gt;<span class="hljs-built_in">array</span> = <span class="hljs-literal">NULL</span>;    <span class="hljs-built_in">free</span>(aS);    aS = <span class="hljs-literal">NULL</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">empty</span><span class="hljs-params">(ArrayStack* aS)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> == aS-&gt;pointer) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">push</span><span class="hljs-params">(ArrayStack* aS, <span class="hljs-keyword">int</span> var)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (aS-&gt;pointer &lt; (aS-&gt;nOfArray - <span class="hljs-number">1</span>)) &#123;        aS-&gt;<span class="hljs-built_in">array</span>[aS-&gt;pointer] = var;        aS-&gt;pointer += <span class="hljs-number">1</span>;        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">pop</span><span class="hljs-params">(ArrayStack* aS)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (!empty(aS)) &#123;        aS-&gt;pointer -= <span class="hljs-number">1</span>;        <span class="hljs-keyword">return</span> aS-&gt;<span class="hljs-built_in">array</span>[aS-&gt;pointer];    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;&#125;</code></pre></details><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(chain* array2d, <span class="hljs-keyword">int</span> vv, <span class="hljs-keyword">int</span> source, <span class="hljs-keyword">int</span>* preNode, <span class="hljs-keyword">int</span>* disFromSource)</span></span><span class="hljs-function"></span>&#123;    ArrayStack* <span class="hljs-built_in">stack</span> = aS_create(vv);    push(<span class="hljs-built_in">stack</span>, source);    <span class="hljs-comment">/* 所有和起点相邻的点的距离，设置他们的前一个点为起点 */</span>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; vv; i++) &#123;        disFromSource[i] = <span class="hljs-number">0</span>;        preNode[i] = <span class="hljs-number">-1</span>;    &#125;    ChainNode* it = array2d[source].first;    <span class="hljs-keyword">while</span> (it != <span class="hljs-literal">NULL</span>) &#123;        disFromSource[it-&gt;element] = it-&gt;weight;        preNode[it-&gt;element] = source;        it = it-&gt;next;    &#125;    disFromSource[source] = <span class="hljs-number">0</span>;    preNode[source] = <span class="hljs-number">-2</span>;    <span class="hljs-keyword">while</span> (!empty(<span class="hljs-built_in">stack</span>)) &#123;        <span class="hljs-keyword">int</span> v = pop(<span class="hljs-built_in">stack</span>);        <span class="hljs-comment">/* 更新所有和 v 相邻， 没到过或者距离可以更小的点，且没到过则入栈 */</span>        ChainNode* iterator = array2d[v].first;        <span class="hljs-keyword">while</span> (iterator != <span class="hljs-literal">NULL</span>) &#123;            <span class="hljs-keyword">if</span> ((preNode[iterator-&gt;element] == <span class="hljs-number">-1</span> || disFromSource[iterator-&gt;element] &gt; disFromSource[v] + iterator-&gt;weight)) &#123;                disFromSource[iterator-&gt;element] = disFromSource[v] + iterator-&gt;weight;                push(<span class="hljs-built_in">stack</span>, iterator-&gt;element);                preNode[iterator-&gt;element] = v;            &#125;            iterator = iterator-&gt;next;        &#125;    &#125;    preNode[source] = <span class="hljs-number">-2</span>;    aS_delete(<span class="hljs-built_in">stack</span>);&#125;</code></pre><h1 id="附录调用和输出"><a class="markdownIt-Anchor" href="#附录调用和输出"></a> 附录（调用和输出）</h1><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span>* <span class="hljs-title">shortestPath</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">char</span> algorithm[])</span></span><span class="hljs-function"></span>&#123;    FILE* fp = <span class="hljs-literal">NULL</span>;    <span class="hljs-keyword">int</span> vv, ww;    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;    <span class="hljs-keyword">int</span>* re2 = <span class="hljs-literal">NULL</span>;    <span class="hljs-keyword">int</span> none = <span class="hljs-number">0</span>;    fp = fopen(fileNameWithPath, <span class="hljs-string">&quot;r&quot;</span>);    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == fp) &#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fopen()error ! Please check your FILEPATH !\n&quot;</span>);        <span class="hljs-built_in">exit</span>(<span class="hljs-number">-1</span>);    &#125;    <span class="hljs-built_in">fscanf</span>(fp, <span class="hljs-string">&quot;%d %d&quot;</span>, &amp;vv, &amp;ww);    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;1: %d %d\n&quot;</span>, vv, ww);    <span class="hljs-keyword">if</span> (u &lt; <span class="hljs-number">0</span> || v &lt; <span class="hljs-number">0</span> || u &gt; vv || v &gt; vv) &#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;check your u and v\n&quot;</span>);        <span class="hljs-built_in">exit</span>(<span class="hljs-number">-1</span>);    &#125;    chain* ln = read(fp, vv, ww);    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;read successfully !\n&quot;</span>);    <span class="hljs-keyword">int</span> preNode[vv];    <span class="hljs-keyword">int</span> disFromSource[vv];    gettimeofday(&amp;tv2, <span class="hljs-literal">NULL</span>);    ms_cont = (tv2.tv_sec - tv1.tv_sec) * <span class="hljs-number">1000</span> + (<span class="hljs-keyword">double</span>)(tv2.tv_usec - tv1.tv_usec) / <span class="hljs-number">1000</span>;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;time used:%lf ms\n&quot;</span>, ms_cont);    <span class="hljs-keyword">if</span> (algorithm[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;D&#x27;</span> &amp;&amp; algorithm[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;i&#x27;</span> &amp;&amp; algorithm[<span class="hljs-number">2</span>] == <span class="hljs-string">&#x27;j&#x27;</span>) &#123;        none++;        dijkstra(ln, vv, u, v, preNode, disFromSource);    &#125;    <span class="hljs-keyword">if</span> (algorithm[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;D&#x27;</span> &amp;&amp; algorithm[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;F&#x27;</span> &amp;&amp; algorithm[<span class="hljs-number">2</span>] == <span class="hljs-string">&#x27;S&#x27;</span>) &#123;        none++;        dfs(ln, vv, u, preNode, disFromSource);    &#125;    <span class="hljs-keyword">if</span> (algorithm[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;B&#x27;</span> &amp;&amp; algorithm[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;F&#x27;</span> &amp;&amp; algorithm[<span class="hljs-number">2</span>] == <span class="hljs-string">&#x27;S&#x27;</span>) &#123;        none++;        bfs(ln, vv, u, preNode, disFromSource);    &#125;    <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> == none) &#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;check your algorithm name !\n&quot;</span>);        <span class="hljs-built_in">exit</span>(<span class="hljs-number">-1</span>);    &#125;    re2 = outputPath(preNode, disFromSource, re2, u, v);    deleteChain(ln);    <span class="hljs-keyword">return</span> re2;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span>* <span class="hljs-title">outputPath</span><span class="hljs-params">(<span class="hljs-keyword">int</span>* preNode, <span class="hljs-keyword">int</span>* disFromSource, <span class="hljs-keyword">int</span>* re2, <span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">int</span> hh = v;    hh = v;    <span class="hljs-keyword">int</span> nOfPath = <span class="hljs-number">0</span>;    <span class="hljs-keyword">if</span> (<span class="hljs-number">-1</span> == preNode[hh]) &#123;        re2 = <span class="hljs-literal">NULL</span>;        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    &#125;    <span class="hljs-keyword">while</span> (preNode[hh] != <span class="hljs-number">-2</span>) &#123;        <span class="hljs-comment">// printf(&quot;%3d&quot;,hh);</span>        hh = preNode[hh];        nOfPath++;    &#125;    <span class="hljs-keyword">if</span> (<span class="hljs-number">-1</span> == preNode[hh]) &#123;        <span class="hljs-keyword">return</span> re2;    &#125;    nOfPath++;    <span class="hljs-comment">// printf(&quot;nOfpath: %d\n&quot;,nOfPath);</span>    re2 = (<span class="hljs-keyword">int</span>*)<span class="hljs-built_in">malloc</span>((nOfPath + <span class="hljs-number">4</span>) * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>));    re2[<span class="hljs-number">0</span>] = u;    hh = v;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = nOfPath - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--) &#123;        re2[i] = hh;        hh = preNode[hh];    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; nop: %d\n&quot;</span>, nOfPath);    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nOfPath - <span class="hljs-number">1</span>; i++) &#123;        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d -&gt; &quot;</span>, re2[i]);    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, re2[nOfPath - <span class="hljs-number">1</span>]);    <span class="hljs-keyword">return</span> re2;&#125;</code></pre><p>运行范例：<br /><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/最短路径时间2.png"/></p><p>先把运行时间抹去了，没做读取优化，主要时间在读文件。。。单独测时时Dij只用了20ms左右结果读文件读了400ms ＞﹏＜ ，如果不是一行一行读而是直接把整个文件读到一个字符数组中，甚至使用 mmap 直接读整个文件到内存，可以大幅度减少读取时间。 测试样本为经改造的 <code>https://snap.stanford.edu/data/amazon0601.txt.gz</code>，大概为60万行的11MB大小的文件。</p><h1 id="扩展阅读"><a class="markdownIt-Anchor" href="#扩展阅读"></a> 扩展阅读</h1><p>Floyd、Sollin、A* 等算法就先不放了，用在这个数据集也不太合适。</p><p>学习时还看到了几个大佬的方法，一个是 用 Fibonacci 堆实现的 Dijkstra 算法 ，一个是还没学会的 链式前向星 + SPFA，建议观摩：</p><p><a href="http://greeensy.github.io/2013/04/16/Fibonacci-Dijkstra/">http://greeensy.github.io/2013/04/16/Fibonacci-Dijkstra/</a></p><p><a href="https://www.cnblogs.com/crazyacking/p/3761686.html">https://www.cnblogs.com/crazyacking/p/3761686.html</a></p>]]></content>
    
    
    <categories>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>c</tag>
      
      <tag>算法</tag>
      
      <tag>图论</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ncurses 学习</title>
    <link href="/2020/06/101_ncurse_learn/"/>
    <url>/2020/06/101_ncurse_learn/</url>
    
    <content type="html"><![CDATA[<p>没找到什么中文齐整点且常用函数也齐整点的 ncurse api，做个表方便看，还不太完善，占坑先。<br />注：以下一般的函数都能加 w 在最前面变为对子窗口的操作，传参多一个 <code>WINDOW*</code> 在最前。</p><style>.td{width:5%;overflow:auto}</style><figure><table><thead><tr><th>函数</th><th>简要描述</th></tr></thead><tbody><tr><td class="td"><strong>必备</strong></td><td class="td">&nbsp;</td></tr><tr><td class="td">initscr()</td><td class="td">初始化</td></tr><tr><td class="td">refresh()</td><td class="td">把 stdscr 写到屏幕上</td></tr><tr><td class="td">wrefresh(win)</td><td class="td">把 win 写到屏幕上</td></tr><tr><td class="td">endwin()</td><td class="td">退出</td></tr><tr><td class="td">clear()</td><td class="td">清屏</td></tr><tr><td class="td"><strong>输出</strong></td><td class="td">&nbsp;</td></tr><tr><td class="td">move(y,x)</td><td class="td">移动到(y,x)</td></tr><tr><td class="td">getyx(win,y,x)</td><td class="td">得到光标位置</td></tr><tr><td class="td">addch(ch)</td><td class="td">打印字符ch到光标所在位置</td></tr><tr><td class="td">mvaddch(y,x,ch)</td><td class="td">move + addch</td></tr><tr><td class="td">addstr(str)</td><td class="td">打印str</td></tr><tr><td class="td">mvaddstr(y,x,str)</td><td class="td">move + addstr</td></tr><tr><td class="td">printw()</td><td class="td">语法同printf()</td></tr><tr><td class="td">mvprintw(y,x,str)</td><td class="td">移动光标，打印到（y,x)</td></tr><tr><td class="td"><strong>属性</strong></td><td class="td">&nbsp;</td></tr><tr><td class="td">attron(mod)</td><td class="td">开启属性</td></tr><tr><td class="td">attroff(mod)</td><td class="td">关闭属性</td></tr><tr><td class="td"><strong>输入</strong></td><td class="td">&nbsp;</td></tr><tr><td class="td">getch()</td><td class="td">读一个字元，返回按键号(int)</td></tr><tr><td class="td">getstr()</td><td class="td">读一串字元，写到字符数组中</td></tr><tr><td class="td"><strong>输入设置</strong></td><td class="td">&nbsp;</td></tr><tr><td class="td">nonbreak()</td><td class="td">启用行缓冲，直到 RETURN 或 NEWLINE 才刷新</td></tr><tr><td class="td">cbreak()</td><td class="td">禁用行缓冲并设置 curses 每次只接受一个字符</td></tr><tr><td class="td">echo()</td><td class="td">输入立刻回显</td></tr><tr><td class="td">noecho()</td><td class="td">输入不回显</td></tr><tr><td class="td"><strong>位置</strong></td><td class="td">&nbsp;</td></tr><tr><td class="td">get(win, y, x)</td><td class="td">返回当前光标位置，默认win为stdscr，需输入，下同</td></tr><tr><td class="td">getmaxyx(win,row, col)</td><td class="td">取得win的行数和列数</td></tr><tr><td class="td">getmaxx(win)</td><td class="td">返回col</td></tr><tr><td class="td">getmaxy(win)</td><td class="td">返回row</td></tr><tr><td class="td">getparyx(win, y, x)</td><td class="td">返回win相对主窗口的坐标</td></tr><tr><td class="td"><strong>窗口</strong></td><td class="td">&nbsp;</td></tr><tr><td class="td">newwin()</td><td class="td">创建新窗口，返回WINDOS*</td></tr><tr><td class="td">newwin(height, width, starty, startx)</td><td class="td">高度，宽度，左上角坐标</td></tr><tr><td class="td">delwin (WINDOW *)</td><td class="td">删除窗口</td></tr><tr><td class="td">box(win,char lr,char tb)</td><td class="td">画框，左右为lr，上下为tb，填0为默认</td></tr><tr><td class="td">wborder(win,ls,rs,ts,bs,tl,tr,bl,br)</td><td class="td">画框，左右上下，顺时针四个角</td></tr></tbody></table></figure><p>&nbsp;</p><figure><table><thead><tr><th>mod</th><th>description</th></tr></thead><tbody><tr><td class="td">A_NORMAL</td><td class="td">普通字符输出(不加亮显示)</td></tr><tr><td class="td">A_STANDOUT</td><td class="td">终端字符最亮</td></tr><tr><td class="td">A_UNDERLINE</td><td class="td">下划线</td></tr><tr><td class="td">A_REVERSE</td><td class="td">字符反白显示</td></tr><tr><td class="td">A_BLINK</td><td class="td">闪动显示</td></tr><tr><td class="td">A_DIM</td><td class="td">半亮显示</td></tr><tr><td class="td">A_BOLD</td><td class="td">加亮加粗</td></tr><tr><td class="td">A_PROTECT</td><td class="td">保护模式</td></tr><tr><td class="td">A_INVIS</td><td class="td">空白显示模式</td></tr><tr><td class="td">A_ALTCHARSET</td><td class="td">字符交替</td></tr><tr><td class="td">A_CHARTEXT</td><td class="td">字符掩盖</td></tr><tr><td class="td">COLOR_PAIR(n)</td><td class="td">前景、背景色设置</td></tr></tbody></table></figure><p>注：鼠标按键可能不一，左右键分别对应哪个可能需要试验；鼠标操作大概只在终端模拟器中有效 ！</p><figure><table><thead><tr><th>mousemask</th><th>description</th></tr></thead><tbody><tr><td class="td">BUTTON1_PRESSED</td><td class="td">鼠标1 号键按下</td></tr><tr><td class="td">BUTTON1_RELEASED</td><td class="td">鼠标1 号键释放</td></tr><tr><td class="td">BUTTON1_CLICKED</td><td class="td">鼠标1 号键单击</td></tr><tr><td class="td">BUTTON1_DOUBLE_CLICKED</td><td class="td">鼠标1 号键双击</td></tr><tr><td class="td">BUTTON1_TRIPLE_CLICKED</td><td class="td">鼠标1 号键三击</td></tr><tr><td class="td">BUTTON2_PRESSED</td><td class="td">鼠标2 号键按下</td></tr><tr><td class="td">BUTTON2_RELEASED</td><td class="td">鼠标2 号键释放</td></tr><tr><td class="td">BUTTON2_CLICKED</td><td class="td">鼠标2 号键单击</td></tr><tr><td class="td">BUTTON2_DOUBLE_CLICKED</td><td class="td">鼠标2 号键双击</td></tr><tr><td class="td">BUTTON2_TRIPLE_CLICKED</td><td class="td">鼠标2 号键三击</td></tr><tr><td class="td">BUTTON3_PRESSED</td><td class="td">鼠标3 号键按下</td></tr><tr><td class="td">BUTTON3_RELEASED</td><td class="td">鼠标3 号键释放</td></tr><tr><td class="td">BUTTON3_CLICKED</td><td class="td">鼠标3 号键单击</td></tr><tr><td class="td">BUTTON3_DOUBLE_CLICKED</td><td class="td">鼠标3 号键双击</td></tr><tr><td class="td">BUTTON3_TRIPLE_CLICKED</td><td class="td">鼠标3 号键三击</td></tr><tr><td class="td">BUTTON4_PRESSED</td><td class="td">鼠标4 号键按下</td></tr><tr><td class="td">BUTTON4_RELEASED</td><td class="td">鼠标4 号键释放</td></tr><tr><td class="td">BUTTON4_CLICKED</td><td class="td">鼠标4 号键单击</td></tr><tr><td class="td">BUTTON4_DOUBLE_CLICKED</td><td class="td">鼠标4 号键双击</td></tr><tr><td class="td">BUTTON4_TRIPLE_CLICKED</td><td class="td">鼠标4 号键三击</td></tr><tr><td class="td">BUTTON_SHIFT</td><td class="td">在鼠标事件发生时，伴随Shift 键按下</td></tr><tr><td class="td">BUTTON_CTRL</td><td class="td">在鼠标事件发生时，伴随Ctrl 键按下</td></tr><tr><td class="td">BUTTON_ALT</td><td class="td">在鼠标事件发生时，伴随Alt 键按下</td></tr><tr><td class="td">ALL_MOUSE_EVENTS</td><td class="td">报告所有的鼠标事件</td></tr><tr><td class="td">REPORT_MOUSE_POSITION</td><td class="td">报告鼠标移动位置</td></tr></tbody></table></figure>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>c</tag>
      
      <tag>ncurse</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>h5 贪吃蛇</title>
    <link href="/2020/06/100_h5%E8%B4%AA%E5%90%83%E8%9B%87/"/>
    <url>/2020/06/100_h5%E8%B4%AA%E5%90%83%E8%9B%87/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>这是个可以直接玩的贪吃蛇。<br />注：好像获取浏览器焦点有点异常，建议使用wasd移动，此贪吃蛇不会死亡。</p>          </div><!-- <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> --><!-- <html xmlns="http://www.w3.org/1999/xhtml"> --><!-- <!DOCTYPE html><html> --><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>无标题文档</title><script type="text/javascript" language="javascript"><!-- var nowDirection='right';//定义当前移动方向    var nextDirection='right';//下次移动方向    var score=100;function snakeMove(){//移动蛇身var snakeBody=document.getElementsByName('snake');//记录蛇头位置var snakeHeadLeft=snakeBody.item(0).style.left;var snakeHeadTop=snakeBody.item(0).style.top;var snakeBodyLeft=null;//当前节点的坐标var snakeBodyTop=null;//移动蛇头<br />nowDirection=nextDirection;//改变当前移动方向if(nextDirection=='left'){snakeBody.item(0).style.left=(parseInt(snakeBody.item(0).style.left)-20+600)%600+'px';}else if(nextDirection=='right'){snakeBody.item(0).style.left=(parseInt(snakeBody.item(0).style.left)+20)%600+'px';}else if(nextDirection=='up'){snakeBody.item(0).style.top=(parseInt(snakeBody.item(0).style.top)-20+300)%300+'px';}else if(nextDirection=='down'){snakeBody.item(0).style.top=(parseInt(snakeBody.item(0).style.top)+20)%300+'px';}for(var i=1;i<snakeBody.length;i++){//移动蛇身//保存当前节点坐标snakeBodyLeft=snakeBody.item(i).style.left;snakeBodyTop=snakeBody.item(i).style.top;//移动当前节点snakeBody.item(i).style.left=snakeHeadLeft;snakeBody.item(i).style.top=snakeHeadTop;//初始化下个节点的移动位置snakeHeadLeft=snakeBodyLeft;snakeHeadTop=snakeBodyTop;}//判断是否吃到食物if(checkFood(snakeBody)){//如果吃到食物蛇身加长//蛇身加长snakeBodyAdd(snakeBody,snakeHeadLeft,snakeHeadTop);}}function snakeBodyAdd(snakeBody,Left,Top){var screens=document.getElementById("screen");//获取screen对象var newBody=snakeBody.item(snakeBody.length-1).cloneNode(true);newBody.style.left=Left;newBody.style.top=Top;screens.appendChild(newBody);//添加节点}function checkFood(subSnakeBody){var food=document.getElementById("food");var snakeHead=document.getElementById("snakeHead");if(snakeHead.style.left==food.style.left&&snakeHead.style.top==food.style.top){//吃到食物//生成新食物            newFood();            score += 100;            getScore();return true;}return false;}function newFood(){var foodLeft=parseInt(Math.random()*24)*20 + 'px';var foodTop=parseInt(Math.random()*14)*20 +'px';var food=document.getElementById("food");food.style.left=foodLeft;food.style.top=foodTop;}function screenFocus(){//屏幕获得焦点document.getElementById("screen").focus();}function main(){        document.getElementById("start_button").value = "加速";var screens=document.getElementById("screen");screens.focus();screens.onkeydown=function(e){controlDeriction(e);};//控制方向window.setInterval("screenFocus()",10);window.setInterval("snakeMove()",100);}function controlDeriction(e){//控制方向判断下次移动的方向e = e|| window.event;//阻止浏览器默认事件if((e.keyCode==37||e.keyCode==65)&&nowDirection!='right') nextDirection = 'left';else if((e.keyCode==38||e.keyCode==87)&&nowDirection!='down') nextDirection = 'up';else if((e.keyCode==39||e.keyCode==68)&&nowDirection!='left') nextDirection = 'right';else if((e.keyCode==40||e.keyCode==83)&&nowDirection!='up') nextDirection = 'down';        }    function getScore(){        document.getElementById("demo").innerHTML = "&nbsp score: "+score;    }-->s</script><style type="text/css">.snake{border:0px;position:absolute; width:20px; height:20px; background:#8EC0E4;}#screen{margin:auto;width:600px; height:300px; position:relative; background:#D4DFE6;}.login-button { /* 按钮美化 */width: 200px; /* 宽度 */height: 30px; /* 高度 */border-width: 0px; /* 边框宽度 */border-radius: 3px; /* 边框半径 */background: #8EC0E4; /* 背景颜色 */cursor: pointer; /* 鼠标移入按钮范围时出现手势 */outline: none; /* 不显示轮廓线 */font-family: Microsoft YaHei; /* 设置字体 */color: white; /* 字体颜色 */font-size: 17px; /* 字体大小 */}.login-button:hover { /* 鼠标移入按钮范围时改变颜色 */background: #F100E5;</style></head><body><div id="screen" tabindex="0"><div id="snakeHead" name="snake" class="snake" style="top:100px; left:100px;"></div><div name="snake" class="snake" style="top:100px; left:80px;"></div><div name="snake" class="snake" style="top:100px; left:60px;"></div><div name="snake" class="snake" style="top:100px; left:40px;"></div><div name="snake" class="snake" style="top:100px; left:20px;"></div><div id="food" class="snake" style="top:100px; left:200px; background:#F6EA8C;"></div><div id="demo">&nbsp score</div></div><div><center><input id="start_button" type="button" onclick="main()" value="开始吗" class="login-button"/></div></center><!-- <script src="//yanhaijing.com/assets/plugin/tongji/baidu.js"></script> --></body><!-- </html> -->]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>html</tag>
      
      <tag>javascript</tag>
      
      <tag>游戏</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>多线程入门 01</title>
    <link href="/2020/06/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A5%E9%97%A8_01/"/>
    <url>/2020/06/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A5%E9%97%A8_01/</url>
    
    <content type="html"><![CDATA[<h2 id="一个简单的例子"><a class="markdownIt-Anchor" href="#一个简单的例子"></a> 一个简单的例子</h2><p>上手之前，先来直观感受一下一段简单的使用 POSIX 多线程 API 的代码，以及与普通单线程的比较。代码的功能就是简单地循环计个数。</p><p>先提前声明一下，虽然本文的代码用 gcc 编译运行都能通过，但我其实使用 g++ 的。。。<br />毕竟平时是写 c++ 的，有东西记得不是很清，反正 g++ 编译就都能用了 ヽ(゜▽゜　)－－…</p><!-- <details><summary>展开查看</summary><pre><code class="hljs c">System.out.println("Hello to see U!"); </code></pre></details> --><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><details><summary>单线程计数, 展开查看代码</summary><pre><code class="hljs c"><span class="hljs-comment">// test.c</span><span class="hljs-comment">// gcc test.c -o test.o</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/time.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> TEST_TIME 4</span><span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">cal</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) &#123;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10000</span>; j++) &#123;            x += i;        &#125;    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;x=%d\n&quot;</span>,x);    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">void</span>*)<span class="hljs-number">0</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">timeval</span> <span class="hljs-title">tv1</span>, <span class="hljs-title">tv2</span>;</span>    gettimeofday(&amp;tv1, <span class="hljs-literal">NULL</span>);    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; TEST_TIME; i++) &#123;        cal(<span class="hljs-literal">NULL</span>);    &#125;    gettimeofday(&amp;tv2, <span class="hljs-literal">NULL</span>);    <span class="hljs-keyword">double</span> ms_cont = (tv2.tv_sec - tv1.tv_sec) * <span class="hljs-number">1000</span> +                      (<span class="hljs-keyword">double</span>)(tv2.tv_usec - tv1.tv_usec) / <span class="hljs-number">1000</span>;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;time used:%lfms\n&quot;</span>, ms_cont);&#125;</code></pre></details><details><summary>多线程计数, 展开查看代码</summary><pre><code class="hljs c">```c<span class="hljs-comment">// test2.c</span><span class="hljs-comment">// gcc test2.c -o test2.o -lpthread</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pthread.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/time.h&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> TEST_TIME 4</span><span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">cal</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* arg)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) &#123;        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10000</span>; j++) &#123;            x += i;        &#125;    &#125;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;x=%d\n&quot;</span>, x);    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">void</span>*)<span class="hljs-number">0</span>;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">timeval</span> <span class="hljs-title">tv1</span>, <span class="hljs-title">tv2</span>;</span>    gettimeofday(&amp;tv1, <span class="hljs-literal">NULL</span>);    <span class="hljs-keyword">pthread_t</span> tidp[TEST_TIME];    <span class="hljs-keyword">int</span> ret[TEST_TIME];    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; TEST_TIME; i++) &#123;        ret[i] = pthread_create(&amp;(tidp[i]), <span class="hljs-literal">NULL</span>, cal, <span class="hljs-literal">NULL</span>);    &#125;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; TEST_TIME; i++) &#123;        pthread_join(tidp[i], <span class="hljs-literal">NULL</span>);    &#125;    gettimeofday(&amp;tv2, <span class="hljs-literal">NULL</span>);    <span class="hljs-keyword">double</span> ms_cont = (tv2.tv_sec - tv1.tv_sec) * <span class="hljs-number">1000</span> +                      (<span class="hljs-keyword">double</span>)(tv2.tv_usec - tv1.tv_usec) / <span class="hljs-number">1000</span>;    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;time used:%lfms\n&quot;</span>, ms_cont);&#125;</code></pre></details><h3 id="流程图"><a class="markdownIt-Anchor" href="#流程图"></a> 流程图</h3><p>可以用两幅图来直观的总结它们的差异：</p><pre><code class="hljs mermaid">graph LRmain--&gt;a[cal]--&gt;b[cal]--&gt;c[cal]--&gt;d[cal]--&gt;return</code></pre><pre><code class="hljs mermaid">graph LRmain--&gt;a[pthread_creat] &amp; b[pthread_creat]    main--&gt;c[pthread_creat] &amp; d[pthread_creat]    a--&gt;a1[cal]--&gt;a2[pthread_join]--&gt;return    b--&gt;b1[cal]--&gt;b2[pthread_join]--&gt;return    c--&gt;c1[cal]--&gt;c2[pthread_join]--&gt;return    d--&gt;d1[cal]--&gt;d2[pthread_join]--&gt;return</code></pre><h3 id="执行情况及分析"><a class="markdownIt-Anchor" href="#执行情况及分析"></a> 执行情况及分析</h3><p>前者是串行地执行四次 cal 函数，后者在创建多个线程后，并行执行 cal 函数。对于单核心单线程 cpu 而言，线程数量的增多或许只有抢占更多cpu资源的作用，效果不明显（当然因获得了更多的执行时间也有提升）；但放在多核心多线程 cpu 上，他们可以同时在不同的 cpu 核心中获得处理, 效果显著。执行时间如下：</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4%E5%B7%AE%E5%BC%8202.png" alt="执行时间差异02.png" /></p><details><summary>展开查看执行动图</summary><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/执行时间01.gif" srcset="/img/loading.gif" alt="执行时间01.gif" /></p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/执行时间02.gif" alt="执行时间02.gif" /></p></details><p>以上的多线程代码耗时大概为单线程的1/3左右，从动图更可以看到，单线程的输出就是一个接一个的，而多线程仿佛是同时输出的。这还只是在我羸弱的8550u上的结果，倘若是3990x这样128线程的处理器，在处理复杂任务时更可以充分发挥多线程优势。事实上，单纯的计算密集型任务这种适合cpu一直工作的发挥的是多核处理器多线程并行的优势；而其他任务例如web服务等，主要是I/O密集型，其主要的时间在等待I/O，倘若是阻塞式的I/O，等待时服务就像死了一样没响应，而把多个任务分配给多个线程，即时某个线程任务暂时无法完成，其他线程也能有效执行，有效利用了cpu和优化软件响应，同时效率和开销也比多进程更小。</p>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>c</tag>
      
      <tag>c++</tag>
      
      <tag>linux</tag>
      
      <tag>多线程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>c 聊天室</title>
    <link href="/2020/06/%E8%81%8A%E5%A4%A9%E5%AE%A4/"/>
    <url>/2020/06/%E8%81%8A%E5%A4%A9%E5%AE%A4/</url>
    
    <content type="html"><![CDATA[<p>本文简单的图标使用内置的 mermaid-js 绘制，复杂的使用 Visio，风格不一，抱歉。</p><h4 id="cs-模型"><a class="markdownIt-Anchor" href="#cs-模型"></a> C/S 模型</h4><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/server-client.svg" alt="" /></p><h4 id="tcp-服务端通信的常规步骤"><a class="markdownIt-Anchor" href="#tcp-服务端通信的常规步骤"></a> TCP 服务端通信的常规步骤:</h4><ol><li>使用 socket() 创建 TCP 套接字（socket）</li><li>将创建的套接字绑定到一个本地地址和端口上（Bind）</li><li>将套接字设为监听模式，准备接收客户端请求（listen）</li><li>等待客户请求到来: 当请求到来后，接受连接请求，返回一个对应于此次连接的新的套接字（accept）</li><li>用 accept 返回的套接字和客户端进行通信（使用 write() / send() 或 send() / recv() ）</li><li>返回，等待另一个客户请求</li><li>关闭套接字</li></ol><h4 id="tcp-客户端通信的常规步骤"><a class="markdownIt-Anchor" href="#tcp-客户端通信的常规步骤"></a> TCP 客户端通信的常规步骤:</h4><ol><li>创建套接字（socket）</li><li>使用 connect() 建立到达服务器的连接（connect)</li><li>客户端进行通信（使用 write() / send() 或 send() / recv() ）</li><li>使用 close() 关闭客户连接</li></ol><h4 id="utilityh"><a class="markdownIt-Anchor" href="#utilityh"></a> utility.h</h4><pre><code class="hljs c"><span class="hljs-comment">/* 一些函数 */</span><span class="hljs-comment">// 设置非阻塞</span>int setnonblocking(int sockfd)；<span class="hljs-comment">// 将文件描述符fd添加到epollfd标示的内核事件表</span>void addfd( int epollfd, int fd, bool enable_et )；<span class="hljs-comment">// 服务端发送广播信息，使所有用户都能收到消息</span>int sendBroadcastmessage(int clientfd)；</code></pre><h4 id="相关库函数"><a class="markdownIt-Anchor" href="#相关库函数"></a> 相关库函数</h4><h5 id="bind"><a class="markdownIt-Anchor" href="#bind"></a> bind</h5><p>bind把一个本地协议地址赋给一个套接字</p><pre><code class="hljs c"><span class="hljs-comment">//绑定地址</span><span class="hljs-keyword">if</span> (bind(listener, (struct sockaddr *)&amp;serverAddr, <span class="hljs-keyword">sizeof</span>(serverAddr)) &lt; <span class="hljs-number">0</span>)&#123;    perror(<span class="hljs-string">&quot;bind error&quot;</span>);    <span class="hljs-built_in">exit</span>(<span class="hljs-number">-1</span>);&#125;</code></pre><pre><code class="hljs c"><span class="hljs-comment">/* Give the socket FD the local address ADDR (which is LEN bytes long).  */</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">int</span> <span class="hljs-title">bind</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> __fd, __CONST_SOCKADDR_ARG __addr, <span class="hljs-keyword">socklen_t</span> __len)</span></span><span class="hljs-function">     __THROW</span>;</code></pre><h5 id="accept"><a class="markdownIt-Anchor" href="#accept"></a> accept</h5><p>该函数用于跟客户端建立连接，并返回客户端套接字。</p><p>更准确的说，accept函数由TCP服务器调用，用于从Accept队列中pop出一个已完成的连接。若Accept队列为空，则accept函数所在的进程阻塞。如文中服务端使用如下代码，得到clientfd，向新的client_address写入地址。</p><pre><code class="hljs c"><span class="hljs-keyword">int</span> clientfd = accept(listener, (struct sockaddr *)&amp;client_address, &amp;client_addrLength);</code></pre><pre><code class="hljs c"><span class="hljs-comment">/* Await a connection on socket FD.</span><span class="hljs-comment">   When a connection arrives, open a new socket to communicate with it,</span><span class="hljs-comment">   set *ADDR (which is *ADDR_LEN bytes long) to the address of the connecting</span><span class="hljs-comment">   peer and *ADDR_LEN to the address&#x27;s actual length, and return the</span><span class="hljs-comment">   new socket&#x27;s descriptor, or -1 for errors.</span><span class="hljs-comment"></span><span class="hljs-comment">   This function is a cancellation point and therefore not marked with</span><span class="hljs-comment">   __THROW.  */</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">int</span> <span class="hljs-title">accept</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> __fd, __SOCKADDR_ARG __addr,</span></span><span class="hljs-function"><span class="hljs-params">   <span class="hljs-keyword">socklen_t</span> *__restrict __addr_len)</span></span>;</code></pre><h5 id="connect"><a class="markdownIt-Anchor" href="#connect"></a> connect</h5><p>该函数用于跟指定的 server 进行连接，其中 serverAddr 指定了服务器的 ip 地址和端口，此时 client 利用 connect 向 server 发起经典的 TCP 三次握手。</p><pre><code class="hljs c"><span class="hljs-comment">// 创建socket</span><span class="hljs-keyword">int</span> sock = socket(PF_INET, SOCK_STREAM, <span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(sock &lt; <span class="hljs-number">0</span>) &#123; perror(<span class="hljs-string">&quot;sock error&quot;</span>); <span class="hljs-built_in">exit</span>(<span class="hljs-number">-1</span>); &#125;<span class="hljs-comment">// 连接服务端</span><span class="hljs-keyword">if</span>(connect(sock, (struct sockaddr *)&amp;serverAddr, <span class="hljs-keyword">sizeof</span>(serverAddr)) &lt; <span class="hljs-number">0</span>) &#123;    perror(<span class="hljs-string">&quot;connect error&quot;</span>);    <span class="hljs-built_in">exit</span>(<span class="hljs-number">-1</span>);&#125;</code></pre><pre><code class="hljs c"><span class="hljs-comment">/* Open a connection on socket FD to peer at ADDR (which LEN bytes long).</span><span class="hljs-comment">   For connectionless socket types, just set the default address to send to</span><span class="hljs-comment">   and the only address from which to accept transmissions.</span><span class="hljs-comment">   Return 0 on success, -1 for errors.</span><span class="hljs-comment"></span><span class="hljs-comment">   This function is a cancellation point and therefore not marked with</span><span class="hljs-comment">   __THROW.  */</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">int</span> <span class="hljs-title">connect</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> __fd, __CONST_SOCKADDR_ARG __addr, <span class="hljs-keyword">socklen_t</span> __len)</span></span>;</code></pre><h5 id="ip-地址格式转换"><a class="markdownIt-Anchor" href="#ip-地址格式转换"></a> IP 地址格式转换</h5><p>我们常见的 ip 地址格式如 192.168.0.1 和系统使用的整型格式并不相同，为了在可读/可用，需要进行转换。文中使用了以下片段来输出 ip 和 端口。</p><pre><code class="hljs c"><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;client connection from: %s : % d(IP : port), clientfd = %d \n&quot;</span>,       inet_ntoa(client_address.sin_addr),       ntohs(client_address.sin_port),       clientfd);</code></pre><pre><code class="hljs c"><span class="hljs-comment">/* Convert Internet number in IN to ASCII representation.  The return value</span><span class="hljs-comment">   is a pointer to an internal array containing the string.  */</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">char</span> *<span class="hljs-title">inet_ntoa</span> <span class="hljs-params">(struct in_addr __in)</span> __THROW</span>;<span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">uint16_t</span> <span class="hljs-title">ntohs</span> <span class="hljs-params">(<span class="hljs-keyword">uint16_t</span> __netshort)</span></span><span class="hljs-function">     __THROW __<span class="hljs-title">attribute__</span> <span class="hljs-params">((__const__))</span></span>;</code></pre><p>当然还有更细致的，family 为协议族（AF_INET 或 AF_INET6），后面依次为待转换，转换后存储位置。</p><pre><code class="hljs c"><span class="hljs-comment">/* Convert from presentation format of an Internet number in buffer</span><span class="hljs-comment">   starting at CP to the binary network format and store result for</span><span class="hljs-comment">   interface type AF in buffer starting at BUF.  */</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">int</span> <span class="hljs-title">inet_pton</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> __af, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *__restrict __cp,</span></span><span class="hljs-function"><span class="hljs-params">      <span class="hljs-keyword">void</span> *__restrict __buf)</span> __THROW</span>;<span class="hljs-comment">/* Convert a Internet address in binary network format for interface</span><span class="hljs-comment">   type AF in buffer starting at CP to presentation form and place</span><span class="hljs-comment">   result in buffer of length LEN astarting at BUF.  */</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *<span class="hljs-title">inet_ntop</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> __af, <span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> *__restrict __cp,</span></span><span class="hljs-function"><span class="hljs-params">      <span class="hljs-keyword">char</span> *__restrict __buf, <span class="hljs-keyword">socklen_t</span> __len)</span></span><span class="hljs-function">     __THROW</span>;</code></pre><h5 id="send"><a class="markdownIt-Anchor" href="#send"></a> send</h5><p>send 通过 socket 发送数据，文中使用到 <code>send(clientfd, CAUTION, strlen(CAUTION), 0);</code> 发送广播消息给全体客户端，（其中 <code>CAUTION</code> 为&quot;There is only one int the char room!&quot;）</p><pre><code class="hljs c"><span class="hljs-comment">// Send N bytes of BUF to socket FD.  Returns the number sent or -1.</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">ssize_t</span> <span class="hljs-title">send</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> __fd, <span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> *__buf, <span class="hljs-keyword">size_t</span> __n, <span class="hljs-keyword">int</span> __flags)</span></span>;</code></pre><h5 id="recv"><a class="markdownIt-Anchor" href="#recv"></a> recv</h5><p>recv 通过 socket 接收数据，文中使用到 <code>int len = recv(clientfd, buf, BUF_SIZE, 0)</code> 确定接收到的数据长度, recv和send的函数格式一致。</p><pre><code class="hljs c"><span class="hljs-comment">// Send N bytes of BUF to socket FD.  Returns the number sent or -1.</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">ssize_t</span> <span class="hljs-title">send</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> __fd, <span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> *__buf, <span class="hljs-keyword">size_t</span> __n, <span class="hljs-keyword">int</span> __flags)</span></span>;</code></pre><h5 id="close"><a class="markdownIt-Anchor" href="#close"></a> close</h5><p>文中使用到 <code>close(listener); //关闭socket</code> ，其实close就是一个关闭文件描述符的函数。</p><pre><code class="hljs c"><span class="hljs-comment">// Close the file descriptor FD.</span><span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">int</span> <span class="hljs-title">close</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> __fd)</span></span>;</code></pre><pre><code class="hljs mermaid">graph TDa[user input]--&gt;|child process waiting for user input|b[child process]b--&gt;|write by child process| c([&amp;nbsp pipe &amp;nbsp])c--&gt;|read by child process| d[parent process]d--&gt;|send to server| e[server]e--&gt;|parent process receive| d</code></pre><p>封面图：Illustration by <a href="undefined">Icons 8</a> from <a href="https://icons8.com/">Icons8</a></p>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>c</tag>
      
      <tag>c++</tag>
      
      <tag>linux</tag>
      
      <tag>网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>markdown 扩展 Latex</title>
    <link href="/2020/06/markdown%E6%89%A9%E5%B1%952/"/>
    <url>/2020/06/markdown%E6%89%A9%E5%B1%952/</url>
    
    <content type="html"><![CDATA[<p>接着 mermaid 流程图，其实 markdown 扩展的 Latex 也很实用。</p><p>先举几个例子。</p><h3 id="上下标"><a class="markdownIt-Anchor" href="#上下标"></a> 上下标</h3><pre><code class="hljs gams"><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span>\overbrace&#123;a_0+...\underbrace&#123;a_i+...+a_&#123;i+k&#125;&#125;_&#123;total\ k+<span class="hljs-number">1</span>&#125;+a_n&#125;^&#123;total\ n+<span class="hljs-number">1</span>&#125;<span class="hljs-symbol">$</span><span class="hljs-symbol">$</span></code></pre><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover><mover><mrow><msub><mi>a</mi><mn>0</mn></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><munder><munder><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msub><mi>a</mi><mrow><mi>i</mi><mo>+</mo><mi>k</mi></mrow></msub></mrow><mo stretchy="true">⏟</mo></munder><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mtext> </mtext><mi>k</mi><mo>+</mo><mn>1</mn></mrow></munder><mo>+</mo><msub><mi>a</mi><mi>n</mi></msub></mrow><mo stretchy="true">⏞</mo></mover><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mtext> </mtext><mi>n</mi><mo>+</mo><mn>1</mn></mrow></mover></mrow><annotation encoding="application/x-tex">\overbrace{a_0+...\underbrace{a_i+...+a_{i+k}}_{total\ k+1}+a_n}^{total\ n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.5765389999999995em;vertical-align:-1.60077em;"></span><span class="mord mover"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9757689999999994em;"><span style="top:-3.23133em;"><span class="pstrut" style="height:3.23133em;"></span><span class="mord mover"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2313299999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5833299999999999em;"><span style="top:-1.4575609999999999em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mspace mtight"><span class="mtight"> </span></span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5833299999999999em;"><span class="svg-align" style="top:-2.143669em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8563310000000001em;"><span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.60077em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.6833299999999998em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7 5-6 9-10 13-.7 1-7.3 1-20 1H6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M200428 334c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M400000 542l-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.60077em;"><span></span></span></span></span></span></span><span style="top:-4.720990999999999em;"><span class="pstrut" style="height:3.23133em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mspace mtight"><span class="mtight"> </span></span><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.60077em;"><span></span></span></span></span></span></span></span></span></span></p><h3 id="函数"><a class="markdownIt-Anchor" href="#函数"></a> 函数</h3><pre><code class="hljs gams"><span class="hljs-symbol">$</span><span class="hljs-symbol">$</span>f(x) = \<span class="hljs-built_in">frac</span>&#123;<span class="hljs-number">1</span>&#125;&#123;\int_x\eta(x)\mathrm&#123;d&#125;x&#125;g(x)\tag&#123;<span class="hljs-number">2</span>&#125;<span class="hljs-symbol">$</span><span class="hljs-symbol">$</span></code></pre><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mo>∫</mo><mi>x</mi></msub><mi>η</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">d</mi><mi>x</mi></mrow></mfrac><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">f(x) = \frac{1}{\int_x\eta(x)\mathrm{d}x}g(x)\tag{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.37226em;vertical-align:-1.05082em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.3049999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.05442800000000003em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">η</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord mathdefault">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.05082em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:2.37226em;vertical-align:-1.05082em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p><pre><code class="hljs latex"><span class="hljs-formula">$$ F(S)=<span class="hljs-tag">\<span class="hljs-name">left</span></span><span class="hljs-tag">\<span class="hljs-name">&#123;</span></span></span><span class="hljs-formula"><span class="hljs-tag">\<span class="hljs-name">begin</span><span class="hljs-string">&#123;array&#125;</span><span class="hljs-string">&#123;rcl&#125;</span></span></span><span class="hljs-formula">G^3       &amp;      &amp; &#123;0      &lt;      S_L&#125;<span class="hljs-tag">\<span class="hljs-name">\</span></span></span><span class="hljs-formula">G_2    &amp;      &amp; &#123;S_L <span class="hljs-tag">\<span class="hljs-name">leq</span></span> 0 &lt; S_M&#125;<span class="hljs-tag">\<span class="hljs-name">\</span></span></span><span class="hljs-formula"><span class="hljs-tag">\<span class="hljs-name">end</span><span class="hljs-string">&#123;array&#125;</span></span> <span class="hljs-tag">\<span class="hljs-name">right</span></span>. </span><span class="hljs-formula">$$</span></code></pre><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="right center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>G</mi><mn>3</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>&lt;</mo><msub><mi>S</mi><mi>L</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>G</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>S</mi><mi>L</mi></msub><mo>≤</mo><mn>0</mn><mo>&lt;</mo><msub><mi>S</mi><mi>M</mi></msub></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> F(S)=\left\{\begin{array}{rcl}G^3       &amp;      &amp; {0      &lt;      S_L}\\G_2    &amp;      &amp; {S_L \leq 0 &lt; S_M}\\\end{array} \right. </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.4499999999999997em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.2499999999999996em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h3 id="矩阵"><a class="markdownIt-Anchor" href="#矩阵"></a> 矩阵</h3><pre><code class="hljs latex"><span class="hljs-formula">$$</span><span class="hljs-formula"><span class="hljs-tag">\<span class="hljs-name">left</span></span>|</span><span class="hljs-formula"><span class="hljs-tag">\<span class="hljs-name">begin</span><span class="hljs-string">&#123;array&#125;</span><span class="hljs-string">&#123;lcr&#125;</span></span></span><span class="hljs-formula">a <span class="hljs-tag">\<span class="hljs-name"> </span></span>&amp; <span class="hljs-tag">\<span class="hljs-name">overline</span><span class="hljs-string">&#123;a+b&#125;</span></span> <span class="hljs-tag">\<span class="hljs-name"> </span></span>&amp; <span class="hljs-tag">\<span class="hljs-name">sum</span></span><span class="hljs-tag">\<span class="hljs-name">limits</span></span>_&#123;k=1&#125;^nkx <span class="hljs-tag">\<span class="hljs-name">\</span></span> <span class="hljs-tag">\<span class="hljs-name">\</span></span></span><span class="hljs-formula"><span class="hljs-tag">\<span class="hljs-name">frac</span><span class="hljs-string">&#123;1&#125;</span><span class="hljs-string">&#123;a+b&#125;</span></span> <span class="hljs-tag">\<span class="hljs-name"> </span></span>&amp; b^&#123;(a)&#125; <span class="hljs-tag">\<span class="hljs-name"> </span></span>&amp; <span class="hljs-tag">\<span class="hljs-name">sum</span></span><span class="hljs-tag">\<span class="hljs-name">nolimits</span></span>_&#123;k=1&#125;^nky</span><span class="hljs-formula"><span class="hljs-tag">\<span class="hljs-name">end</span><span class="hljs-string">&#123;array&#125;</span></span></span><span class="hljs-formula"><span class="hljs-tag">\<span class="hljs-name">right</span></span>|</span><span class="hljs-formula">$$</span></code></pre><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnalign="left center right" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>a</mi><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow><mo stretchy="true">‾</mo></mover><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>k</mi><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mfrac><mn>1</mn><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow></mfrac><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>b</mi><mrow><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo></mrow></msup><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>k</mi><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\left|\begin{array}{lcr}a \ &amp; \overline{a+b} \ &amp; \sum\limits_{k=1}^nkx \\ \\\frac{1}{a+b} \ &amp; b^{(a)} \ &amp; \sum\nolimits_{k=1}^nky\end{array}\right|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8703805em;vertical-align:-2.1724205em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6979599999999997em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.6679599999999999em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2739599999999998em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.48596em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.69796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6724204999999994em;"><span style="top:-4.672420499999999em;"><span class="pstrut" style="height:3.351397em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace"> </span></span></span><span style="top:-2.830307499999999em;"><span class="pstrut" style="height:3.351397em;"></span><span class="mord"></span></span><span style="top:-1.5823075000000002em;"><span class="pstrut" style="height:3.351397em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1724205em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6724204999999994em;"><span style="top:-4.672420499999999em;"><span class="pstrut" style="height:3.351397em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.89444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">b</span></span></span><span style="top:-3.81444em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span><span class="mspace"> </span></span></span><span style="top:-1.5823075000000006em;"><span class="pstrut" style="height:3.351397em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">a</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1724204999999994em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6724204999999994em;"><span style="top:-4.672420499999999em;"><span class="pstrut" style="height:3.351397em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.351397em;"><span style="top:-2.097887em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.000005em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.002113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">x</span></span></span><span style="top:-1.5823075000000006em;"><span class="pstrut" style="height:3.351397em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1724204999999994em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6979599999999997em;"><span style="top:-0.45596000000000014em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.06196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.6679599999999999em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2739599999999998em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.87996em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.48596em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.69796em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500399999999997em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="集合论"><a class="markdownIt-Anchor" href="#集合论"></a> 集合论</h3><pre><code class="hljs latex"><span class="hljs-formula">$$</span><span class="hljs-formula"><span class="hljs-tag">\<span class="hljs-name">overline</span><span class="hljs-string">&#123;A \bigcup B&#125;</span> = </span><span class="hljs-tag">\<span class="hljs-name">overline</span><span class="hljs-string">&#123;A&#125;</span></span> <span class="hljs-tag">\<span class="hljs-name">bigcap</span></span> <span class="hljs-tag">\<span class="hljs-name">overline</span><span class="hljs-string">&#123;B&#125;</span></span></span><span class="hljs-formula">$$</span></code></pre><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>⋃</mo><mi>B</mi></mrow><mo stretchy="true">‾</mo></mover><mo>=</mo><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover><mo>⋂</mo><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{A \bigcup B} = \overline{A} \bigcap \overline{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8000100000000003em;vertical-align:-0.55001em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2500000000000004em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol large-op" style="position:relative;top:-0.000004999999999977245em;">⋃</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-4.220000000000001em;"><span class="pstrut" style="height:3.05em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55001em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.6000100000000002em;vertical-align:-0.55001em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol large-op" style="position:relative;top:-0.000004999999999977245em;">⋂</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>⨁</mo><mi>B</mi><mo>=</mo><mo stretchy="false">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∈</mo><mi>A</mi><mo>⋀</mo><mi>x</mi><mi mathvariant="normal">∉</mi><mi>B</mi><mo stretchy="false">)</mo><mo>⋁</mo><mo stretchy="false">(</mo><mi>x</mi><mo>∈</mo><mi>B</mi><mo>⋀</mo><mi>x</mi><mi mathvariant="normal">∉</mi><mi>A</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">A \bigoplus B = \{x|(x \in A \bigwedge x \notin B) \bigvee (x \in B \bigwedge x \notin A) \}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.6000100000000002em;vertical-align:-0.55001em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol large-op" style="position:relative;top:-0.000004999999999977245em;">⨁</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mord">∣</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.6000100000000002em;vertical-align:-0.55001em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol large-op" style="position:relative;top:-0.000004999999999977245em;">⋀</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.6000100000000002em;vertical-align:-0.55001em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol large-op" style="position:relative;top:-0.000004999999999977245em;">⋁</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.6000100000000002em;vertical-align:-0.55001em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol large-op" style="position:relative;top:-0.000004999999999977245em;">⋀</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></span></p><h3 id="特殊符号"><a class="markdownIt-Anchor" href="#特殊符号"></a> 特殊符号</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mtext>   </mtext><mi>β</mi><mtext>  </mtext><mi>γ</mi><mtext>  </mtext><mi mathvariant="normal">Γ</mi><mtext>  </mtext><mi>δ</mi><mtext>  </mtext><mi mathvariant="normal">Δ</mi><mtext>  </mtext><mi>ϵ</mi><mtext>  </mtext><mi>ε</mi><mtext>  </mtext><mi>ζ</mi><mtext> </mtext><mspace linebreak="newline"></mspace><mtext> </mtext><mi>η</mi><mtext>  </mtext><mi>θ</mi><mtext>  </mtext><mi mathvariant="normal">Θ</mi><mtext>  </mtext><mi>ϑ</mi><mtext>  </mtext><mi>ι</mi><mtext>  </mtext><mi>π</mi><mtext>  </mtext><mi>ϕ</mi><mtext>  </mtext><mi mathvariant="normal">Φ</mi><mtext> </mtext><mspace linebreak="newline"></mspace><mtext> </mtext><mi>ψ</mi><mtext>  </mtext><mi mathvariant="normal">Ψ</mi><mtext>  </mtext><mi>ω</mi><mtext>  </mtext><mi mathvariant="normal">Ω</mi><mtext>  </mtext><mi>χ</mi><mtext>  </mtext><mi>ρ</mi><mtext>  </mtext><mi>ο</mi><mtext> </mtext><mspace linebreak="newline"></mspace><mtext> </mtext><mi>σ</mi><mtext>  </mtext><mi mathvariant="normal">Σ</mi><mtext>  </mtext><mi>ν</mi><mtext>  </mtext><mi>ξ</mi><mtext>  </mtext><mi>τ</mi><mtext>  </mtext><mi>λ</mi><mtext> </mtext><mspace linebreak="newline"></mspace><mtext> </mtext><mi mathvariant="normal">Λ</mi><mtext>  </mtext><mi>μ</mi><mtext>  </mtext><mi mathvariant="normal">∂</mi><mtext>  </mtext><mo stretchy="false">{</mo><mo stretchy="false">}</mo><mtext> </mtext></mrow><annotation encoding="application/x-tex">\alpha \   \    \ \beta \  \   \gamma \  \   \Gamma  \  \  \delta     \   \ \Delta \   \ \epsilon \   \ \varepsilon \   \ \zeta \  \\ \ \eta \   \ \theta \   \ \Theta \   \ \vartheta \   \ \iota \   \ \pi \   \ \phi \   \ \Phi \  \\ \ \psi \   \ \Psi \   \ \omega \   \ \Omega \   \ \chi \   \ \rho \   \ \omicron \  \\ \ \sigma \   \ \Sigma \   \ \nu \   \ \xi \   \ \tau \   \ \lambda \  \\ \ \Lambda \   \ \mu \   \ \partial \    \ \lbrace \rbrace \   </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord">Γ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord">Δ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">ϵ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">ε</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.07378em;">ζ</span><span class="mspace"> </span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">η</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord">Θ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">ϑ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">ι</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">ϕ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord">Φ</span><span class="mspace"> </span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">ψ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord">Ψ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord">Ω</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">χ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">ρ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">ο</span><span class="mspace"> </span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord">Σ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.06366em;">ν</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.04601em;">ξ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">λ</span><span class="mspace"> </span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mspace"> </span><span class="mord">Λ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathdefault">μ</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mspace"> </span><span class="mspace"> </span><span class="mopen">{</span><span class="mclose">}</span><span class="mspace"> </span></span></span></span></span></p>]]></content>
    
    
    <categories>
      
      <category>others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Latex</tag>
      
      <tag>md</tag>
      
      <tag>数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>markdown 扩展 mermaid</title>
    <link href="/2020/06/markdown%E6%89%A9%E5%B1%95%E8%AF%AD%E6%B3%95/"/>
    <url>/2020/06/markdown%E6%89%A9%E5%B1%95%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>偶然发现 markdown 还能扩展 mermaid 绘图，简要记录一下其用法。</p><p>手机端就不要看本文了，本文的渲染器对缩放支持不好</p><h2 id="流程图"><a class="markdownIt-Anchor" href="#流程图"></a> 流程图</h2><h3 id="走向"><a class="markdownIt-Anchor" href="#走向"></a> 走向</h3><p>常用的 <code>graph TD(or TB)</code> 表示从上往下，而 <code>graph LR</code> 表示从左往右。总共有以下几种方向：<span class="label label-primary">LR - 从左往右</span> <span class="label label-primary">TB/TD - 从上往下</span> <span class="label label-primary">BT - 从下往上</span> <span class="label label-primary">RL - 从右往左</span></p><pre><code class="hljs abnf">graph TD<span class="hljs-comment">;</span>    A--&gt;B<span class="hljs-comment">;</span></code></pre><pre><code class="hljs mermaid">graph TD;    A--&gt;B;</code></pre><pre><code class="hljs abnf">graph LR<span class="hljs-comment">;</span>    A--&gt;B<span class="hljs-comment">;</span></code></pre><pre><code class="hljs mermaid">graph LR;    A--&gt;B;</code></pre><h3 id="形状"><a class="markdownIt-Anchor" href="#形状"></a> 形状</h3><p>节点默认为矩形，<code>id1[text]</code>表示<code>id1</code>为标识符，<code>text</code>为框中内容的框。<code>mermaid</code> 提供了多种形状以下,直接以示例表现。</p><pre><code class="hljs mermaid">graph LR    s00[矩形]--&gt;s01(圆角矩形)    s01--&gt;s02([这个叫啥])</code></pre><pre><code class="hljs mermaid">graph LR    s04&gt;这个叫条子吧]--&gt;s03((圆形))    s03--&gt;s05&#123;菱形&#125;    s05--&gt;s06&#123;&#123;六边形&#125;&#125;</code></pre><pre><code class="hljs mermaid">graph LR    s07[&#x2F;平行四边形&#x2F;]--&gt;s08[\另一个平行四边形\]    s08--&gt;s09[&#x2F;上梯形\]    s09--&gt;s10[\下梯形&#x2F;]</code></pre><pre><code class="hljs xl"><span class="hljs-comment">// 代码分别如下</span>graph LR    <span class="hljs-function"><span class="hljs-title">s00</span>[矩形]--&gt;</span>s01(圆角矩形)    <span class="hljs-function"><span class="hljs-title">s01</span>--&gt;</span>s02([这个叫啥])graph LR    <span class="hljs-function"><span class="hljs-title">s04</span>&gt;这个叫条子吧]--&gt;</span>s03((圆形))    <span class="hljs-function"><span class="hljs-title">s03</span>--&gt;</span>s05&#123;菱形&#125;    <span class="hljs-function"><span class="hljs-title">s05</span>--&gt;</span>s06&#123;&#123;六边形&#125;&#125;graph LR    <span class="hljs-function"><span class="hljs-title">s07</span>[/平行四边形/]--&gt;</span>s08[\另一个平行四边形\]    <span class="hljs-function"><span class="hljs-title">s08</span>--&gt;</span>s09[/上梯形\]    <span class="hljs-function"><span class="hljs-title">s09</span>--&gt;</span>s10[\下梯形/]</code></pre><h3 id="连接"><a class="markdownIt-Anchor" href="#连接"></a> 连接</h3><pre><code class="hljs mermaid">graph RL    B --&gt; A    B --&gt; C    A --- D    C --- E    D -- 文本 --- D1    E ---|文本| E1    D1 -- 文本 --&gt; D2    E1 --&gt;|文本| E2    B -.-&gt; P    P -. 文本 .-&gt; Q    Q &#x3D;&#x3D;&gt; R    R &#x3D;&#x3D; 文本 &#x3D;&#x3D;&gt; T</code></pre><pre><code class="hljs properties"><span class="hljs-attr">graph</span> <span class="hljs-string">RL</span>    <span class="hljs-attr">B</span> <span class="hljs-string">--&gt; A</span>    <span class="hljs-attr">B</span> <span class="hljs-string">--&gt; C</span>    <span class="hljs-attr">A</span> <span class="hljs-string">--- D</span>    <span class="hljs-attr">C</span> <span class="hljs-string">--- E</span>    <span class="hljs-attr">D</span> <span class="hljs-string">-- 文本 --- D1</span>    <span class="hljs-attr">E</span> <span class="hljs-string">---|文本| E1</span>    <span class="hljs-attr">D1</span> <span class="hljs-string">-- 文本 --&gt; D2</span>    <span class="hljs-attr">E1</span> <span class="hljs-string">--&gt;|文本| E2</span>    <span class="hljs-attr">B</span> <span class="hljs-string">-.-&gt; P</span>    <span class="hljs-attr">P</span> <span class="hljs-string">-. 文本 .-&gt; Q</span>    <span class="hljs-attr">Q</span> =<span class="hljs-string">=&gt; R</span>    <span class="hljs-attr">R</span> =<span class="hljs-string">= 文本 ==&gt; T</span></code></pre><p>当然也有一些高级玩法</p><pre><code class="hljs mermaid">graph LR    B --- B1 --&gt; B2 -.-&gt; B3    C --&gt; C1 &amp; C2 --&gt; C3</code></pre><pre><code class="hljs mermaid">graph TD    A &amp; B --- D &amp; E</code></pre><pre><code class="hljs mermaid">graph TB    c1--&gt;a2    subgraph one    a1--&gt;a2    end    subgraph two    b1--&gt;b2    end    subgraph three    c1--&gt;c2    end</code></pre><pre><code class="hljs armasm"><span class="hljs-symbol">graph</span> <span class="hljs-built_in">LR</span>    <span class="hljs-keyword">B</span> --- B1 --&gt; B2 -.-&gt; B3    C --&gt; <span class="hljs-built_in">C1</span> &amp; <span class="hljs-built_in">C2</span> --&gt; <span class="hljs-built_in">C3</span><span class="hljs-symbol">graph</span> TD    A &amp; <span class="hljs-keyword">B</span> --- D &amp; E<span class="hljs-symbol">graph</span> TB    <span class="hljs-built_in">c1</span>--&gt;<span class="hljs-built_in">a2</span>    subgraph one    <span class="hljs-built_in">a1</span>--&gt;<span class="hljs-built_in">a2</span>    <span class="hljs-meta">end</span>    subgraph two    b1--&gt;b2    <span class="hljs-meta">end</span>    subgraph three    <span class="hljs-built_in">c1</span>--&gt;<span class="hljs-built_in">c2</span>    <span class="hljs-meta">end</span></code></pre><p>下面是一个正常示例</p><pre><code class="hljs mermaid">graph LR    A[Hard edge] --&gt;|Link text| B(Round edge)    B --&gt; C&#123;Decision&#125;    C --&gt;|One| D[Result one]    C --&gt;|Two| E[Result two]</code></pre><h2 id="时序图"><a class="markdownIt-Anchor" href="#时序图"></a> 时序图</h2><h2 id="甘特图"><a class="markdownIt-Anchor" href="#甘特图"></a> 甘特图</h2><p>……………………</p>]]></content>
    
    
    <categories>
      
      <category>others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>md</tag>
      
      <tag>mermaid</tag>
      
      <tag>流程图</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vscode + ssh + c/cpp</title>
    <link href="/2020/06/vscode%20+%20ssh%20+%20c_cpp/"/>
    <url>/2020/06/vscode%20+%20ssh%20+%20c_cpp/</url>
    
    <content type="html"><![CDATA[<h1 id="vscode-ssh-ccpp"><a class="markdownIt-Anchor" href="#vscode-ssh-ccpp"></a> vscode + ssh + c/cpp</h1><h2 id="配置公钥"><a class="markdownIt-Anchor" href="#配置公钥"></a> 配置公钥</h2><p>新版（大概是20H?）的windows已经自带了openssh，因而可以直接在cmd / powershell / windows terminal 里使用ssh，为了避免每次都要输入密码的麻烦，先在本地生成ssh的公钥链接 <code>ssh-keygen</code>，如下图，可以看见生成的id_rsa.pub公钥在用户名目录下的<code>.ssh</code>文件夹里，用记事本打开即可查看。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622141909653.png" alt="image-20200622141909653" /></p><p>先短暂得随便用什么工具登录远程服务器，把上面 id_rsa.pub 的内容复制到 ~/.ssh/authorized_keys 中，初次使用可能不熟悉，各种远程终端的复制可以是 <code>ctrl+shift+v</code> 或 <code>shift+insert</code> 或 <code>单击右键</code> 等，例如我使用uusl这个账户登录，就：</p><pre><code class="hljs bash">$ nano /home/uusl/.ssh/authorized_keys (使用nano编辑器打开，或者用 vi 等，可能需要sudo)</code></pre><p>再例如 root 登录：</p><pre><code class="hljs bash">$ nano /root/.ssh/authorized_keys</code></pre><p>以后每次本机登录都不用输密码了，方便又安全。为了继续提高安全性可以关闭ssh的密码登录，防止暴力破解，具体流程不赘述。</p><h2 id="配置-vscode"><a class="markdownIt-Anchor" href="#配置-vscode"></a> 配置 vscode</h2><p>在 vscode 中点击插件库图标（形如左下角），搜索 ssh，安装 Remote -SSH，然后点击多出来的远程连接插件，点击设置（齿轮），选择下拉框中路径带有用户名的 config 文件，填写信息如下：</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622142857736.png" alt="image-20200622142857736" /><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622143216524.png" alt="image-20200622143216524" /></p><pre><code class="hljs json"># Read more about SSH config files: https://linux.die.net/man/5/ssh_configHost yourname//你给这个远程的备注名    HostName xxx.xxx.xxx.xxx//你服务器的ip地址    User root//你的登录账号，其实不建议用root，建议使用sudo组里的普通用户</code></pre><p>如果你之前没有设置好公钥，这里需要输入密码（可能首次连接会直接弹出错误，一般点击 retry 重试可以成功），点击左边第一个图标，可以打开文件夹/工作区（如果没载于公钥每次都要输入密码 。。。），可以按 ctrl + ~ 打开命令行，总的情况如图（嫌字大/小的可以 <code>ctrl +/-</code>）：</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622144911736.png" alt="image-20200622144911736" /></p><p>具体的 vscode 配置和在本地大致相同，可以参考我的另一篇博客的后半部分 <a href="https://rainrime.top/2020/%E4%B8%80%E6%AC%A1deepin%E5%AE%89%E8%A3%85%E5%8F%8Avscode%E7%9A%84c++%E9%85%8D%E7%BD%AE/%EF%BC%8C%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E6%98%AF%EF%BC%8C%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%E7%AD%89%E5%A6%82%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%9C%A8linux%E5%92%8Cwindows%E4%B8%8B%E6%98%AF%E4%B8%8D%E5%90%8C%E7%9A%84%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%8A%A5%E9%94%99%EF%BC%8C%E6%AD%A4%E6%97%B6%E5%8F%AF%E4%BB%A5%E5%88%A9%E7%94%A8%E8%87%AA%E5%B8%A6%E7%9A%84%E7%94%9F%E6%88%90%E5%A6%82%E7%9B%B4%E6%8E%A5%E5%9C%A8%E4%B8%80%E4%B8%AA">https://rainrime.top/2020/一次deepin安装及vscode的c++配置/，需要注意的是，编码格式等如换行符在linux和windows下是不同的，可能会导致配置文件报错，此时可以利用自带的生成如直接在一个</a> c/cpp 文件下按 F5，会跳出调试文件配置，选第一个即可（其实本来都是和那些一样的。。。）。如果有特殊需求，例如 需要链接指定库，指定头文件，使用c++20等，可以在tasks.json中更改（其实tasks.json就是帮你把编译过程自动化了，参数都在里面）归根到底，只要保证工作区目录下有一个 <code>.vscode</code>文件夹，里面有三个配置文件就ok。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622161450907.png" alt="image-20200622161450907" /></p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622150038015.png" alt="image-20200622150038015" /></p><p>如下图可以很清晰得看到编译、运行、调试都是成功的，设置断点后调试器自动调用了 gdb 并图形化输出。（可能debug console 会弹出一堆信息，点回去terminal）</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622145425987.png" alt="image-20200622145425987" /></p><h2 id="linux-多用户"><a class="markdownIt-Anchor" href="#linux-多用户"></a> linux 多用户</h2><p>虽然 root 用户很强大很方便，但是全部权限也意味着全部的责任，例如我就不小心手抖毁了用户组 。。。如果你胆大当然也可以 <code>rm -rf /</code> ，为了避免严重犯错，或为了限制他人的权限，我们一般不用 root 账户，而使用普通账户，平时仅仅在一般权限下工作，并通过把它添加到 sudo （超级用户组），需要时再使用 <code>sudo + 命令</code>来临时获取root权限。</p><blockquote><p>以下命令 root 用户执行不需要加 sudo 在前方</p></blockquote><pre><code class="hljs bash">$ sudo adduser username// 添加一个username的用户，将自动创建用户、密码、用户信息（可不填）、家目录$ sudo visudo// 用默认编辑器打开sudo缓存区文件，注意不要直接修改 /etc/sudoers ！！！$ // 然后在最后一行添加 username ALL=(ALL) ALL , 把你新加的用户名加入到 sudo 用户组$ su username   // 切换到这个账户（ctrl d） 退出</code></pre><p>然后需要在这个用户的目录下添加 ssh 公钥，如上文所写，以后可以直接如此登录。建议单独开出一个文件夹用来编程。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622161751603.png" alt="image-20200622161751603" /></p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622165345499.png" alt="image-20200622165345499" /></p><p>此外，可以顺便学习一下利用 ssh 的 scp 传输，如：在 powershell 中 <code>scp -r C:\Users\kunzh\Documents\programing\STL\Code\mySTL uusl@xxx.xxx.xxx.xxx:/home/uusl/my_prog/</code>上传到上图所示的位置，-r 即为传输目录，需要注意的是，含中文名的路径极有可能不成功（window用户目录下的文件、下载这类不算，windows会自动把他们转文Documents、Download等）</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622165758951.png" alt="image-20200622165758951" /></p><p>此外，路径或文件名中有空格需要整体加引号，如果直接使用其他的终端，需要注意windows的路径是反斜杠，而反斜杠有转义符的用法，因此需要变为 <code>\\</code>。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622170101992.png" alt="image-20200622170101992" /></p><p>反正就是坑好多，其实xshell 配套的 xftp 也可以用，相当于远程资源管理器。</p><p>此处顺便摘录 scp 的几条命令：</p><pre><code class="hljs bash">scp username@servername:/path/filename /tmp/local_destination // 从服务器下载文件scp /path/local_filename username@servername:/path  // 上传本地文件到服务器scp -r username@servername:remote_dir/ /tmp/local_dir // 从服务器下载整个目录scp  -r /tmp/local_dir username@servername:remote_dir  // 上传目录到服务器</code></pre><h2 id="vscode-online"><a class="markdownIt-Anchor" href="#vscode-online"></a> vscode online</h2><p>为了方便你随时随地使用网页就能编程（当然跑集群和GPU密集型爽歪歪），vscode online 也是个好玩的东西，有个浏览器有个 <code>ipad</code>就能编程。</p><pre><code class="hljs bash">//尽量不使用 root 账户执行以下命令，便于管理curl -fsSL https://code-server.dev/install.sh | sh//完成后systemctl --user <span class="hljs-built_in">enable</span> --now code-server//设置开机启动</code></pre><p>如果不熟悉<code>systemctl</code>，还需要记住以下几条命令</p><pre><code class="hljs bash">systemctl --user restart --now code-server// 感觉有问题，或者为了改密码、改端口以刷新配置systemctl --user status --now code-server// 查看运行状态、日志等</code></pre><p>此时会在当前用户目录 <code>~</code>下创建<code>./.config/config.yaml</code>，修改为：</p><pre><code class="hljs yaml"><span class="hljs-attr">bind-addr:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:8080</span><span class="hljs-attr">auth:</span> <span class="hljs-string">password</span><span class="hljs-attr">password:</span> <span class="hljs-string">你想设置的密码，注意复杂度足够</span><span class="hljs-attr">cert:</span> <span class="hljs-literal">false</span></code></pre><p>然后就可以在浏览器地址栏输入 <code>xxx.xxx.xxx.xxx:8080</code>(那一段是你的服务器ip，当然如果你做了域名的A记录用域名更好)，需要注意，是否在云服务器提供商处设置了防火墙或组策略，需要手动开启端口（此处以阿里云轻量应用服务器为例，其他大致相同）：</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622201954320.png" alt="image-20200622201954320" /></p><p>正常访问页面：</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622202103923.png" alt="image-20200622202103923" /></p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622202211443.png" alt="image-20200622202211443" /></p><p>注意，插件还需要再装一次，其实只要装 c/c++ 那个。</p><h2 id="onemore-thing"><a class="markdownIt-Anchor" href="#onemore-thing"></a> Onemore Thing</h2><p>理论上应该搭个博客什么的，或者在线游戏（如我的世界服务器）啥的，但为了方便，不用在懵逼的时候继续接触nginx、php、nodejs等等复杂的环境，选择一个最简单的网盘玩玩（装装逼？）还是不错的。</p><p>切换到当前用户目录下<code>cd ~</code>，最好再<code>mkdir cloudreve</code>，避免混乱，再切到该目录下。注意，以下只是网址太长了，只有三行，可以直接复制。</p><pre><code class="hljs bash">wget https://github.com/cloudreve/Cloudreve/releases/download/3.1.1/cloudreve_3.1.1_linux_amd64.tar.gztar -zxvf cloudreve_3.1.1_linux_amd64.tar.gz./cloudreve</code></pre><p>记住输出的管理员账号和密码，然后防火墙放行5212端口，就可以在浏览器访问<code>http://服务器IP:5212</code>进入你的网盘了（再也不用看百度云脸色👀？）</p><p>该网盘功能还挺丰富的，支持云扩容，支持邮箱服务器，支持图床直连等等，可以自己摸索着玩。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200622204720140.png" alt="image-20200622204720140" /></p>]]></content>
    
    
    <categories>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>图论</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>图论中的重要算法</title>
    <link href="/2020/06/%E5%9B%BE%E8%AE%BA%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E7%AE%97%E6%B3%95/"/>
    <url>/2020/06/%E5%9B%BE%E8%AE%BA%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="图论中的重要算法"><a class="markdownIt-Anchor" href="#图论中的重要算法"></a> 图论中的重要算法</h1><h2 id="遍历"><a class="markdownIt-Anchor" href="#遍历"></a> 遍历</h2><h3 id="dfs"><a class="markdownIt-Anchor" href="#dfs"></a> DFS</h3><p>深度优先搜索（Depth-first-search，DFS）</p><pre><code class="hljs delphi"><span class="hljs-comment">// 简单描述</span><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">DFS</span><span class="hljs-params">(G：带有顶点v_1,v_2...v_n的连通图)</span></span><span class="hljs-function"><span class="hljs-title">T</span>:</span>= 只包含顶点v_1的树visit(v_i)<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">visit</span><span class="hljs-params">(v：G的顶点)</span></span><span class="hljs-function"><span class="hljs-title">for</span> 与<span class="hljs-title">v</span>相邻且还不在<span class="hljs-title">T</span>中的每个顶点ω</span><span class="hljs-function">加入顶点ω和边<span class="hljs-comment">&#123;v,ω&#125;</span>到<span class="hljs-title">T</span></span><span class="hljs-function"><span class="hljs-title">visit</span><span class="hljs-params">(ω)</span></span></code></pre><pre><code class="hljs c"><span class="hljs-function">function <span class="hljs-title">DFS</span><span class="hljs-params">( Start , Goal )</span></span><span class="hljs-function"><span class="hljs-title">push</span><span class="hljs-params">(Stack , Start )</span></span>;<span class="hljs-keyword">while</span> ( Stack is <span class="hljs-keyword">not</span> empty )var Node := Pop( Stack );<span class="hljs-keyword">if</span> ( Visited (Node) ) <span class="hljs-keyword">continue</span> ; <span class="hljs-comment">//C style continue</span><span class="hljs-keyword">if</span> ( Node = Goal )<span class="hljs-keyword">return</span> Node ;setVisited (Node );<span class="hljs-function"><span class="hljs-keyword">for</span> Child in <span class="hljs-title">Expand</span><span class="hljs-params">(Node)</span></span><span class="hljs-function"><span class="hljs-title">if</span> <span class="hljs-params">( notVisited (Node) )</span></span><span class="hljs-function"><span class="hljs-title">push</span> <span class="hljs-params">(Stack , Child )</span></span>;</code></pre><!-- ![DFS(1)(1)](/img/图论中的重要算法/DFS(1)(1).gif) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/DFS(1)(1).gif" srcset="/img/loading.gif" alt="DFS(1)(1)" width="75%" /></p><h3 id="bfs"><a class="markdownIt-Anchor" href="#bfs"></a> BFS</h3><p>广度优先搜索（Breadth-first-search，BFS）</p><pre><code class="hljs cal"><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">BFS</span><span class="hljs-params">(G：带顶点v_1,v_2...v_n的连通图)</span></span><span class="hljs-function">    <span class="hljs-title">T</span>:</span>= 只包含顶点v_1的树    L:= 空表    把v1放入尚未处理的顶点的表L中    <span class="hljs-keyword">while</span> L 非空    删除L中第一个顶点v    <span class="hljs-keyword">for</span> v的每个邻居ω    <span class="hljs-keyword">if</span> ω即不再L中也不在T中 <span class="hljs-keyword">then</span>    加入ω到L的末尾c    加入ω和边&#123;v,ω&#125;到T</code></pre><pre><code class="hljs c"><span class="hljs-function">function <span class="hljs-title">BFS</span><span class="hljs-params">( Start , Goal )</span> </span><span class="hljs-function"><span class="hljs-title">setVisited</span> <span class="hljs-params">( Start )</span></span>; enqueue (Queue , Start ); <span class="hljs-keyword">while</span> ( notEmpty(Queue) )Node := dequeue (Queue ); <span class="hljs-keyword">if</span> ( Node = Goal )<span class="hljs-keyword">return</span> Node ; <span class="hljs-function"><span class="hljs-keyword">for</span> each Child in <span class="hljs-title">Expand</span><span class="hljs-params">(Node)</span></span><span class="hljs-function"><span class="hljs-title">if</span> <span class="hljs-params">( notVisited ( Child ) )</span></span><span class="hljs-function"><span class="hljs-title">setVisited</span> <span class="hljs-params">( Child )</span></span>; enqueue (Queue , Child );</code></pre><!-- ![BFS(1)(1)](/img/图论中的重要算法/BFS(1)(1).gif) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/BFS(1)(1).gif" srcset="/img/loading.gif" alt="BFS(1)(1)" width="75%" /></p><h2 id="mstminimum-spanning-tree"><a class="markdownIt-Anchor" href="#mstminimum-spanning-tree"></a> MST(Minimum Spanning Tree)</h2><p>已知：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo>&lt;</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo separator="true">,</mo><mi>ω</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">G=&lt;V,E,ω&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>是无向连通赋权图，其中V是点集，E是边集，ω 是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>→</mo><msup><mi mathvariant="double-struck">R</mi><mo>+</mo></msup></mrow><annotation encoding="application/x-tex">E \rightarrow \mathbb{R}^+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span></span></span></span>的单射函数，T为G的生成树，T的所有边的权值之和称为T的权值。</p><p>若T在G中的所有生成树中的权值最小，称为最小生成树。</p><p>最小生成树的实际应用有很多，例如可以把以下的图视作各个城市和他们之间的距离，想要铺设总路程最短的光纤/高速连接他们，也就是求出这个图的一个最小生成树，图中加粗形成的树即为所求。</p><!-- ![Minimum_spanning_tree](/img/图论中的重要算法/Minimum_spanning_tree.svg) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/Minimum_spanning_tree.svg" srcset="/img/loading.gif" alt="Minimum_spanning_tree.svg" width="75%" /></p><h3 id="prim"><a class="markdownIt-Anchor" href="#prim"></a> Prim</h3><p>普林算法（Prim’s Algorithm）</p><pre><code class="hljs c"><span class="hljs-function">procedure <span class="hljs-title">Prim</span><span class="hljs-params">(G=&lt;V,E,ω&gt;)</span></span><span class="hljs-function">T:</span>=权值最小的边;<span class="hljs-keyword">for</span> i:=<span class="hljs-number">1</span> to n<span class="hljs-number">-2</span>e:= 与T相邻且T+&#123;e&#125;没有回路的最小权值边T:= T+&#123;e&#125;<span class="hljs-keyword">return</span> T</code></pre><!-- ![prim](/img/图论中的重要算法/prim-1591949176159.gif) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/prim-1591949176159.gif" srcset="/img/loading.gif" alt="prim-1591949176159.gif" width="75%" /></p><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/%E5%9B%BE%E8%AE%BA%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E7%AE%97%E6%B3%95/PrimAlgDemo.gif" alt="PrimAlgDemo" /></p><!-- <p><img src="/img/图论中的重要算法/PrimAlgDemo.gif" srcset="/img/loading.gif" alt="PrimAlgDemo.gif" width="60%" /></p> --><h3 id="kruskal"><a class="markdownIt-Anchor" href="#kruskal"></a> Kruskal</h3><p>克鲁斯托尔算法（Kruskal’s Algorithm）</p><pre><code class="hljs c"><span class="hljs-function">procedure <span class="hljs-title">Kruskal</span><span class="hljs-params">(G=&lt;V,E,ω&gt;)</span></span><span class="hljs-function">T:</span>= 空集（图）E:= &#123;e_1,e_2...e_n&#125;(ω(e_1)&lt;ω(e_2)&lt;...&lt;ω(e_n))<span class="hljs-keyword">for</span> i:=<span class="hljs-number">1</span> to n<span class="hljs-number">-1</span><span class="hljs-keyword">if</span> ( T+&#123;e_i&#125; 不构成回路 )T:= T + &#123;e_i&#125;<span class="hljs-keyword">return</span> T</code></pre><!-- ![Krustal(1)(1)](/img/图论中的重要算法/Krustal(1)(1).gif) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/Krustal(1)(1).gif" srcset="/img/loading.gif" alt="Krustal(1)(1).gif" width="75%" /></p><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/MST_kruskal_en.gif"  align="middle" height="300" /></p><h3 id="sollin"><a class="markdownIt-Anchor" href="#sollin"></a> Sollin</h3><p>索林算法（Sollin’s Algorithm）</p><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/%E5%9B%BE%E8%AE%BA%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E7%AE%97%E6%B3%95/Boruvka's_algorithm_(Sollin's_algorithm)_Anim.gif" alt="Boruvka's_algorithm_(Sollin's_algorithm)_Anim" /></p><!-- <p><img src="/img/图论中的重要算法/Boruvka's_algorithm_(Sollin's_algorithm)_Anim.gif" srcset="/img/loading.gif" alt="Boruvka's_algorithm_(Sollin's_algorithm)_Anim.gif" width="95%" /></p> --><h2 id="最短路径"><a class="markdownIt-Anchor" href="#最短路径"></a> 最短路径</h2><p><a href="http://www.webhek.com/post/pathfinding.html">http://www.webhek.com/post/pathfinding.html</a></p><h3 id="dilkstra"><a class="markdownIt-Anchor" href="#dilkstra"></a> Dilkstra</h3><p>迪斯克斯拉算法（Dilkstra’s Algorithm）</p><p>迪斯克斯拉算法本质为贪心算法，在已有的图外加上最近的点k形成新图，然后更新图外每个点的值，直到到达这个点。如图：</p><!-- ![Dijkstra_Animation](../img/图论中的重要算法/Dijkstra_Animation.gif) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/Dijkstra_Animation.gif" srcset="/img/loading.gif" alt="Dijkstra_Animation" width="75%" /></p><p>这个是平面直角坐标的情形。</p><!-- ![Dijkstras_progress_animation](/img/图论中的重要算法/Dijkstras_progress_animation.gif) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/Dijkstras_progress_animation.gif" srcset="/img/loading.gif" alt="Dijkstras_progress_animation" width="75%" /></p><p>伪代码描述如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">注</mi><mi mathvariant="normal">：</mi><mi mathvariant="normal">已</mi><mi mathvariant="normal">知</mi><mi>G</mi><mi mathvariant="normal">为</mi><mi mathvariant="normal">简</mi><mi mathvariant="normal">单</mi><mi mathvariant="normal">带</mi><mi mathvariant="normal">正</mi><mi mathvariant="normal">权</mi><mi mathvariant="normal">连</mi><mi mathvariant="normal">通</mi><mi mathvariant="normal">图</mi><mi mathvariant="normal">，</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">∉</mi><mi>E</mi><mo>⇔</mo><mi>ω</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">注：已知G为简单带正权连通图，(v_i,v_j) \notin E \Leftrightarrow ω(v_i,v_j)=\infty </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord cjk_fallback">注</span><span class="mord cjk_fallback">：</span><span class="mord cjk_fallback">已</span><span class="mord cjk_fallback">知</span><span class="mord mathdefault">G</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">简</span><span class="mord cjk_fallback">单</span><span class="mord cjk_fallback">带</span><span class="mord cjk_fallback">正</span><span class="mord cjk_fallback">权</span><span class="mord cjk_fallback">连</span><span class="mord cjk_fallback">通</span><span class="mord cjk_fallback">图</span><span class="mord cjk_fallback">，</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇔</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span></span></span></span></span></p><pre><code class="hljs c"><span class="hljs-function">procedure <span class="hljs-title">Dijkstra</span><span class="hljs-params">(G)</span></span><span class="hljs-function">    <span class="hljs-keyword">for</span> i:</span>=<span class="hljs-number">1</span> to n        L(v[i]):= MAX    L(a):= <span class="hljs-number">0</span>    S:= NULLbushuyu    <span class="hljs-keyword">while</span> (!(z ∈ S))u:= 不属于S的L(u)最小的一个顶点  S:= S ∪ &#123;u&#125;<span class="hljs-keyword">for</span> v <span class="hljs-keyword">not</span> in S<span class="hljs-keyword">if</span> (L(u) + ω(u,v) &lt; L(v))L(v):= L(u) + ω(u,v)<span class="hljs-keyword">return</span> L(z)</code></pre><h3 id="floyd-warshall"><a class="markdownIt-Anchor" href="#floyd-warshall"></a> Floyd-Warshall</h3><p>弗洛伊德-沃舍尔 全源最短路径算法</p><p>弗洛伊德算法本质上为动态规划算法，对于每两个点，计算能否借助第三个点达成更短路径。</p><p>此算法解决了迪斯克斯拉算法无法处理负权值的边的问题，但由于要计算全部更适合求出全部最短路径。需要注意的是，此算法不检测负权环，要求图本身不带有负权环或手动处理，不然在负权环一圈圈绕路程越来越短。。。</p><p>以此图为例，图中的k为路径的边数，分别计算边数为0、1、2、3时的最短路径，k=1时更新了2-&gt;3的长度，以此类推，由传递闭包的特性最多求到k=v-1即可。</p><!-- ![Floyd-Warshall_example](/img/图论中的重要算法/Floyd-Warshall_example.svg) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/Floyd-Warshall_example.svg" srcset="/img/loading.gif" alt="Floyd-Warshall_example.svg" width="95%" /></p><p>用伪代码简要描述算法如下</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">注</mi><mi mathvariant="normal">：</mi><mi mathvariant="normal">已</mi><mi mathvariant="normal">知</mi><mi>G</mi><mi mathvariant="normal">为</mi><mi mathvariant="normal">简</mi><mi mathvariant="normal">单</mi><mi mathvariant="normal">带</mi><mi mathvariant="normal">权</mi><mi mathvariant="normal">连</mi><mi mathvariant="normal">通</mi><mi mathvariant="normal">图</mi><mi mathvariant="normal">，</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">∉</mi><mi>E</mi><mo>⇔</mo><mi>ω</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">注：已知G为简单带权连通图，(v_i,v_j) \notin E \Leftrightarrow ω(v_i,v_j)=\infty  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord cjk_fallback">注</span><span class="mord cjk_fallback">：</span><span class="mord cjk_fallback">已</span><span class="mord cjk_fallback">知</span><span class="mord mathdefault">G</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">简</span><span class="mord cjk_fallback">单</span><span class="mord cjk_fallback">带</span><span class="mord cjk_fallback">权</span><span class="mord cjk_fallback">连</span><span class="mord cjk_fallback">通</span><span class="mord cjk_fallback">图</span><span class="mord cjk_fallback">，</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇔</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">∞</span></span></span></span></span></p><pre><code class="hljs c"><span class="hljs-function">procedure <span class="hljs-title">Floyd</span> <span class="hljs-params">(G)</span></span><span class="hljs-function">    <span class="hljs-keyword">for</span> i:</span>= <span class="hljs-number">1</span> to n        <span class="hljs-keyword">for</span> j:= <span class="hljs-number">1</span> to n            d(v[i], v[j]) := w(v[i], v[j])    <span class="hljs-keyword">for</span> i:= <span class="hljs-number">1</span> to n        <span class="hljs-keyword">for</span> j:= <span class="hljs-number">1</span> to n            <span class="hljs-keyword">for</span> k:= <span class="hljs-number">1</span> to n                <span class="hljs-keyword">if</span> ( d(v[j], v[i]) + d(v[i], v[k]) &lt; d(v[j], v[k]) )                    d(v[j], v[k]):= d(v[j], v[i]) + d(v[i], v[k])    <span class="hljs-keyword">return</span> d(v[i], v[j])</code></pre><h3 id="a"><a class="markdownIt-Anchor" href="#a"></a> A*</h3><!-- ![Astar_progress_animation](/img/图论中的重要算法/Astar_progress_animation.gif) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/Astar_progress_animation.gif" srcset="/img/loading.gif" alt="Astar_progress_animation.gif" width="75%" /></p><!-- ![AstarExampleEn](/img/图论中的重要算法/AstarExampleEn.gif) --><p><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/图论中的重要算法/AstarExampleEn.gif" srcset="/img/loading.gif" alt="AstarExampleEn.gif" width="75%" /></p><p class="note note-info">部分图源网络，其版权归原作者所有</p>]]></content>
    
    
    <categories>
      
      <category>算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>图论</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>More exercise 01</title>
    <link href="/2020/06/More%20exercise%2001/"/>
    <url>/2020/06/More%20exercise%2001/</url>
    
    <content type="html"><![CDATA[<h1 id="more-exercise"><a class="markdownIt-Anchor" href="#more-exercise"></a> More exercise</h1><p class="note note-info">19. 编写非递归函数计算n!</p><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">factorial</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>)        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;    <span class="hljs-keyword">int</span> re = <span class="hljs-number">1</span>;    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)        re *= i;    <span class="hljs-keyword">return</span> re;&#125;</code></pre><p class="note note-info">23. 最大公约数（GCD)</p><p>当两个非负整数x和y都是0时，它们的最大公约数时0.当两者至少有一个不为0时，它们的最大公约数时可以除尽两者的最大整数。求最大公约数的欧几里得算法（Euclid’s Algorithm）是一个递归算法，定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>y=0</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mtext> </mtext><mi>m</mi><mi>o</mi><mi>d</mi><mtext> </mtext><mi>y</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>y&gt;0</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">gcd(x,y)=\begin{cases}x&amp; \text{y=0}\\{gcd(y,x\ mod \ y)}&amp; \text{y&gt;0}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mspace"> </span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">y=0</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">y&gt;0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p align="center">其中，mod为模数运算子（modulo operator），相当于C/C++中的%</p><ul><li>a） 用公式计算gcd(20,30)和gcd(112,42)。</li><li>b） 确定函数定义的基础部分和递归部分，证明反复应用递归部分可以把公式右侧的gcd表达式转变为左侧的基础部分的表达式。</li><li>c） 编写一个C++递归函数计算gcd(x,y)。</li><li>?） 试图找到另外一个求最大公约数的算法。</li></ul><p>Suggested Answer</p><blockquote><p>(a)<br />gcd(20, 30)<br />= gcd(30, 20 mod 30) = gcd(30, 20)<br />= gcd(20, 30 mod 20) = gcd(20, 10)<br />= gcd(10, 20 mod 10) = gcd(10, 0) = 10`.</p><p>gcd(112, 42)<br />= gcd(42, 112 mod 42) = gcd(42, 28)<br />= gcd(28, 42 mod 28)  = gcd(28, 14)<br />= gcd(14, 28 mod 14) = gcd(14,0) = 0</p></blockquote><blockquote><p>(b)    <br />The base component is <code>gcd(x, y) = x when y = 0</code> and the recursive component is <code>gcd(x, y) = gcd(y, x mod y), y &gt; 0</code>.</p><p>A formal proof can be provided using induction. We provide an informal proof. When <code>x &lt; y</code>, the first application of the definition gives us <code>gcd(x, y) = gcd(y, x mod y) = gcd(y, x)</code>. Following this, the first parameter is <code>&gt;</code> the second.  So, we may consider only the case when <code>x &gt;= y</code>.</p><p>When <code>x = y</code>, an application of the definition results in <code>gcd(x,y) = gcd(y, x mod y) = gcd(y,0)</code> which is an occurrence of <code>gcd</code> in the base component.</p><p>When <code>x &gt; y</code>, an application of the definition results in <code>gcd(x,y) = gcd(y, x mod y) = gcd(y,z)</code>, where <code>0 &lt;= z &lt; y</code>. Each application of the recursive component decreases the second parameter. Therefore, after a sufficient number of applications (at most <code>y</code>), the second parameter will become <code>0</code> and we will have an occurrence of <code>gcd</code> which is in the base component.</p></blockquote><pre><code class="hljs cpp"><span class="hljs-comment">/** @return the gcd of x and y</span><span class="hljs-comment">  * @throws IllegalArgumentException when x or y &lt; 0 */</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><span class="hljs-function"></span>&#123;   <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span> || y &lt; <span class="hljs-number">0</span>)      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;x and y must be &gt;= 0, &quot;</span>                               + <span class="hljs-string">&quot;x = &quot;</span> + x + <span class="hljs-string">&quot;  y = &quot;</span> + y);   <span class="hljs-keyword">return</span> rgcd(x, y);&#125;<span class="hljs-comment">/** @return the gcd of x and y</span><span class="hljs-comment">  * assumes x,y &gt;= 0 */</span><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">rgcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><span class="hljs-function">      </span>&#123;<span class="hljs-keyword">return</span> (y == <span class="hljs-number">0</span>) ? x : rgcd(y, x % y);&#125;</code></pre><p class="note note-info">25. 子集生成方法(Subset Generation)</p><blockquote><p>We may represent a subset of <code>n</code> elements by the one-dimensional array <code>x[1:n]</code>, where <code>x[j]</code> is one if element <code>j</code> is included in the subset and <code>x[j]</code> is zero if element <code>j</code> is not included in the subset.<br />To output the subsets recursively, we define a method <code>subsets(int i)</code> which outputs all <code>x[1:n]</code> with preset values for <code>x[1:i-1]</code> and <code>x[i:n]</code> taking on all possible 0 and 1 values.  The invocation <code>subsets(1)</code> will output all subsets.</p></blockquote><ul><li>编写一个C++递归函数，输出n个元素的所有子集。例如，三元素集 {a,b,c} 的子集为 { }, {a}, {b}, {c}, {a,b}, {a,c}, {b,c}, {a,b,c}。这些子集用0/1组成的<strong>代码序列</strong>来表示分别是 000，100，010，001，110，101，011，111。此函数应输出对应代码序列。然后修正程序，使得可以直接格式化输出所有子集。</li></ul><pre><code class="hljs cpp">&#123;  <span class="hljs-comment">// suggested answer</span>   <span class="hljs-comment">// generate all subsets of n elements</span>package applications;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AllSubsets</span></span><span class="hljs-class">&#123;</span>   <span class="hljs-comment">// class data member</span>   <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> [] x;  <span class="hljs-comment">// subset vector</span>      <span class="hljs-comment">/* define array x and invoke private method subsets */</span>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">allSubsets</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><span class="hljs-function">   </span>&#123;      x = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span> [n + <span class="hljs-number">1</span>];      <span class="hljs-comment">// output all subsets of x[1:n]</span>      subsets(<span class="hljs-number">1</span>);   &#125;   <span class="hljs-comment">/* output x[1:i-1] followed by all subsets of x[i:x.length-1] */</span>   <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">subsets</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span></span><span class="hljs-function">   </span>&#123;      <span class="hljs-keyword">if</span> (i == x.length - <span class="hljs-number">1</span>)      &#123;<span class="hljs-comment">// x[x.length - 1] can be 0 or 1</span>         <span class="hljs-comment">// output subset without last element</span>         x[x.length - <span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;         <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= x.length - <span class="hljs-number">1</span>; j++)            System.out.print(x[j] + <span class="hljs-string">&quot; &quot;</span>);         System.out.println();                  <span class="hljs-comment">// output subset with last element</span>         x[x.length - <span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;         <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= x.length - <span class="hljs-number">1</span>; j++)            System.out.print(x[j] + <span class="hljs-string">&quot; &quot;</span>);         System.out.println();         <span class="hljs-keyword">return</span>;      &#125;                         <span class="hljs-comment">// leave element i out</span>      x[i] = <span class="hljs-number">0</span>;      <span class="hljs-comment">// generate all subsets with i excluded</span>      subsets(i + <span class="hljs-number">1</span>);                          <span class="hljs-comment">// put element i into subset</span>       x[i] = <span class="hljs-number">1</span>;       <span class="hljs-comment">// generate all subsets with i included</span>       subsets(i + <span class="hljs-number">1</span>);   &#125;       <span class="hljs-comment">/* test program */</span>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String [] args)</span></span><span class="hljs-function">   </span>&#123;      allSubsets(<span class="hljs-number">4</span>);   &#125;&#125;<span class="hljs-comment">/* The above code may be modified if we are to output element identifiers </span><span class="hljs-comment">   for the selected elements rather than 0/1 vectors. */</span></code></pre>]]></content>
    
    
    <categories>
      
      <category>c++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>c++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>markdownn 图床 (typora+aliyun+picgo)</title>
    <link href="/2020/06/picgo+aliyun+typora/"/>
    <url>/2020/06/picgo+aliyun+typora/</url>
    
    <content type="html"><![CDATA[<h1 id="markdownn-图床-typoraaliyunpicgo"><a class="markdownIt-Anchor" href="#markdownn-图床-typoraaliyunpicgo"></a> markdownn 图床 (typora+aliyun+picgo)</h1><p>实时渲染的typora已然给我们带来了良好的markdown编辑体验，但md文档中的图片如何存储一直是个问题。默认使用的绝对路径在图片转移位置后，或者单独转移md文档后便无法访问，难以分享/拷贝md文档；即时开启自动复制到相对指定路径，也要每次拷贝图片文件夹，且依旧无法直接分享/渲染成html分享。使用在线图床便能解决这一问题，把文章的图片存到云上，无论何处都能访问。免费的图床不少，但不少已经关闭/限制访问了，而获取的链接也并非永久有效，平日里看到不少文章图片消失掉或许就是这些原因。本文便以阿里云存储作为存储库，安全、便宜、方便得使用图床。</p><h2 id="阿里云oss构建"><a class="markdownIt-Anchor" href="#阿里云oss构建"></a> 阿里云oss构建</h2><p>首先当然是简单的阿里云注册，访问阿里云官网注册即可，支持支付宝登录，就不细说了。</p><ol><li><p>选择对象存储oss</p> <img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali001.png" alt="tcali001" style="zoom:50%;" /></li><li><p>点击折扣套餐</p> <img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali002.png" alt="tcali002" style="zoom: 50%;" /></li><li><p>购买折扣套餐，点击立即购买，5块钱/半年/40GB还挺实惠的。</p> <img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali003.png" alt="tcali003" style="zoom: 80%;" /></li><li><p>开通对象存储服务，如果没有选项，返回主界面再点击对象存储oss，到图2选择立即开通，然后选择创建bucket。</p> <img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali004.png" alt="tcali004" style="zoom:75%;" /></li><li><p>按需选择bucket内容，尽量选择靠近的区域，记得读写权限改为共有读，不然存储内容无法直接访问。</p> <img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali005.png" alt="tcali005" style="zoom:75%;" /></li><li><p>鼠标放到头像上，在悬浮出的小窗口选择AccessKey管理。</p> <img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali006.png" alt="tcali006" style="zoom:75%;" /></li><li><p>选择创建AccessKey，出现手机验证界面，按要求操作即可。也可创建子用户的，大致相同，这里以直接创建全局的为例（这个新页面忘了关黑暗模式。。。担待一下）</p> <img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali007.png" alt="tcali007" style="zoom:80%;" /></li><li><p>选择保存AK信息，建议在不会丢的地方再用txt存储下，再配合截图备份。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali008.png" alt="tcali008" /></p></li><li><p>这个页面就是一些基本信息了，留着这个页面，阿里云存储的配置到此结束。</p> <img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali009.png" alt="tcali009" style="zoom:67%;" /></li></ol><h2 id="picgo下载安装"><a class="markdownIt-Anchor" href="#picgo下载安装"></a> PicGo下载安装</h2><p>偷懒的用户可以直接在typora的偏好设置中下载安装命令行版，如图，选择下载或更新，完成后打开配置文件，根据上文的对应关系，按照下面的格式填写即可。当然国内用户可能觉得这个下载速度怀疑人生（4KB/s），还是另择他路装PicGo的桌面版，图形化操作还能查看已上传形成的相册。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/typora001.png" alt="typora001" /></p><pre><code class="hljs json">&#123;  <span class="hljs-attr">&quot;picBed&quot;</span>: &#123;    <span class="hljs-attr">&quot;uploader&quot;</span>: <span class="hljs-string">&quot;aliyun&quot;</span>,    <span class="hljs-attr">&quot;aliyun&quot;</span>: &#123;    <span class="hljs-attr">&quot;accessKeyId&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,    <span class="hljs-attr">&quot;accessKeySecret&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,    <span class="hljs-attr">&quot;bucket&quot;</span>: <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-comment">// 存储空间名</span>    <span class="hljs-attr">&quot;area&quot;</span>: <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-comment">// 存储区域代号</span>    <span class="hljs-attr">&quot;path&quot;</span>: <span class="hljs-string">&quot;img/&quot;</span>, <span class="hljs-comment">// 存储路径</span>     <span class="hljs-attr">&quot;customUrl&quot;</span>: <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-comment">// 记得加 http:// 或 https://</span>     <span class="hljs-attr">&quot;options&quot;</span>: <span class="hljs-string">&quot;&quot;</span> <span class="hljs-comment">// 后缀处理参数，可留空</span>    &#125;  &#125;,  <span class="hljs-attr">&quot;picgoPlugins&quot;</span>: &#123;&#125;&#125;</code></pre><p>PicGo的项目网站在此，<a href="https://picgo.github.io/PicGo-Doc/zh/guide/#%E5%BA%94%E7%94%A8%E6%A6%82%E8%BF%B0">https://picgo.github.io/PicGo-Doc/zh/guide/#%E5%BA%94%E7%94%A8%E6%A6%82%E8%BF%B0</a>，按照其指引跳转到下载页面，这时如果直接下载还是很慢（毕竟还是被限速的Github），可以右键要下载的文件（windows的exe或mac的dmg，linux的不可能不会了），选择复制链接地址，粘贴到下面的代下载网站http://g.widyun.com/ 或者 <a href="https://shrill-pond-3e81.hunsh.workers.dev/">https://shrill-pond-3e81.hunsh.workers.dev/</a> ，如果你前面真的直接下载了几个小时，这个几秒下完的代理实在是感天动地。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200614233714588.png" alt="image-20200614233714588" /></p><p>下载完如正常软件一样安装，选择目标时记得复制一下路径。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali011.png" alt="tcali011" /></p><p>进入软件后按照上文阿里云oss构建阶段的各个截图，对应填写</p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali013.png" alt="tcali013"  /><h2 id="typora-配置"><a class="markdownIt-Anchor" href="#typora-配置"></a> Typora 配置</h2><p>回到typora的偏好设置界面，把刚刚的路径复制过来（可以按win+v调出剪贴板，查看最近复制内容，单击即可复制）。</p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/typora002.png" alt="typora002"  /><p>然后点击验证图片上传选项，弹出提示验证成功，不成功的回去检查一下PicGo的设置。</p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/tcali015.png" alt="tcali015"  /><p>要获得复制入图片自动上传功能，还需要调整一下，前两个勾可以都打上，不过如果引用别人没有防盗链的图片的话其实直接使用原网址也可，第二个选项就看心情了。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/typora003.png" alt="typora003" /></p><p>现在可以插入图片试一下了，可能需要把全部typora窗口都关掉再打开，例如上面这张图片，会直接变成后面的阿里云开头的链接。</p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200615233416398.png" alt="image-20200615233416398" /></p><p><img src="https://tuchuangrrr.oss-cn-shenzhen.aliyuncs.com/img/image-20200615233622922.png" alt="image-20200615233622922" /></p><p>然后就可以愉快地在markdown中插入图片而不用麻烦这麻烦那的了，记得每次都要开启picgo，不时要上阿里云看看收费情况，交一下流量费和给套餐续期。其实上传的图片如果较大还是建议缩分辨率+压缩，尤其是给像博客文章这样公开访问的节约一下流量，具体工具就下次再介绍了。当然想白嫖的还可以使用sm.ms图床、Github图床等，前者免费版无永久链接，而且承载不了一下加载五六张以上的并发，不利于多图的文章访问，后者空间有限仅作为辅助。</p>]]></content>
    
    
    <categories>
      
      <category>others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>markdown</tag>
      
      <tag>图床</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>武大忽悠-美景</title>
    <link href="/2020/06/photos%20during%20WHU/"/>
    <url>/2020/06/photos%20during%20WHU/</url>
    
    <content type="html"><![CDATA[<h1 id="武大忽悠之美景"><a class="markdownIt-Anchor" href="#武大忽悠之美景"></a> 武大忽悠之美景</h1><h2 id="01-来看武大美图"><a class="markdownIt-Anchor" href="#01-来看武大美图"></a> 01 来看武大美图</h2><p>以下为在武大的第一学期从各个地方收藏来的和个人拍摄的一些图片。流量所限，不便放在这里。</p><p>请移步<span class="label label-primary"><a href="https://www.yuque.com/jinjue/oqkxhm/gr0od4">https://www.yuque.com/jinjue/oqkxhm/gr0od4</a></span></p><h2 id="02-来武大看樱花"><a class="markdownIt-Anchor" href="#02-来武大看樱花"></a> 02 来武大看樱花</h2>    <div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">        <iframe src="//player.bilibili.com/player.html?aid=98420632&bvid=BV11E411F7HD&cid=168006904&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;" ></iframe>    </div><center>建议关闭弹幕获得更好的观看体验</center><h4 id="若不方便观看视频也可先欣赏一下截图"><a class="markdownIt-Anchor" href="#若不方便观看视频也可先欣赏一下截图"></a> 若不方便观看视频，也可先欣赏一下截图：</h4><!-- ![珞珈樱语 最新武大樱花航拍 - 新片场0511](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场0511.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场0340](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场0340.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2807](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场2807.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场0823](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场0823.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场0950](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场0950.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场1149](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场1149.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场1468](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场1468.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场1687](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场1687.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场3059](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场3059.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2870](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场2870.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2504](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场2504.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2374](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场2374.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2297](img/2020-06-01-武大忽悠局/珞珈樱语 最新武大樱花航拍 - 新片场2297.jpg) --><!-- ![珞珈樱语 最新武大樱花航拍 - 新片场0511.jpg](https://i.loli.net/2020/06/14/hKNLvm8SgBxYbXq.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2374.jpg](https://i.loli.net/2020/06/14/dOVegjUzTbDtcr5.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场1149.jpg](https://i.loli.net/2020/06/14/DSFLzkUIpPBc3A5.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场0340.jpg](https://i.loli.net/2020/06/14/9hBZcetQVKCOd6k.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2807.jpg](https://i.loli.net/2020/06/14/bQgH36XoIdSFuOR.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场0950.jpg](https://i.loli.net/2020/06/14/HrRzg2Wqewtn9bm.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2297.jpg](https://i.loli.net/2020/06/14/Do5m1yL4aNjAUPf.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场1687.jpg](https://i.loli.net/2020/06/14/32NnkM5CaVdWRr7.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场1468.jpg](https://i.loli.net/2020/06/14/gl8Pkp1LGI2jFiw.jpg)![珞珈樱语 最新武大樱花航拍 - 新片场2870.jpg](https://i.loli.net/2020/06/14/YRbrxIgoJ2AQCi9.jpg) --><p><a href="https://sm.ms/image/hKNLvm8SgBxYbXq" target="_blank"><img src="https://i.loli.net/2020/06/14/hKNLvm8SgBxYbXq.jpg" /></a><br /><a href="https://sm.ms/image/dOVegjUzTbDtcr5" target="_blank"><img src="https://i.loli.net/2020/06/14/dOVegjUzTbDtcr5.jpg" /></a><br /><a href="https://sm.ms/image/DSFLzkUIpPBc3A5" target="_blank"><img src="https://i.loli.net/2020/06/14/DSFLzkUIpPBc3A5.jpg" /></a><br /><a href="https://sm.ms/image/9hBZcetQVKCOd6k" target="_blank"><img src="https://i.loli.net/2020/06/14/9hBZcetQVKCOd6k.jpg" /></a><br /><a href="https://sm.ms/image/bQgH36XoIdSFuOR" target="_blank"><img src="https://i.loli.net/2020/06/14/bQgH36XoIdSFuOR.jpg" /></a><br /><a href="https://sm.ms/image/HrRzg2Wqewtn9bm" target="_blank"><img src="https://i.loli.net/2020/06/14/HrRzg2Wqewtn9bm.jpg" /></a><br /><a href="https://sm.ms/image/Do5m1yL4aNjAUPf" target="_blank"><img src="https://i.loli.net/2020/06/14/Do5m1yL4aNjAUPf.jpg" /></a><br /><a href="https://sm.ms/image/32NnkM5CaVdWRr7" target="_blank"><img src="https://i.loli.net/2020/06/14/32NnkM5CaVdWRr7.jpg" /></a><br /><a href="https://sm.ms/image/gl8Pkp1LGI2jFiw" target="_blank"><img src="https://i.loli.net/2020/06/14/gl8Pkp1LGI2jFiw.jpg" /></a><br /><a href="https://sm.ms/image/YRbrxIgoJ2AQCi9" target="_blank"><img src="https://i.loli.net/2020/06/14/YRbrxIgoJ2AQCi9.jpg" /></a></p><!-- <iframe src="//player.bilibili.com/player.html?aid=98420632&bvid=BV11E411F7HD&cid=168006904&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe> --><p>感谢 <a href="https://www.8kraw.com/">8KRAW</a>，他们的视频都很好看哦<br /><span class="label label-primary" ><a href="https://space.bilibili.com/21151219?from=search&amp;seid=14242621960551250161">https://space.bilibili.com/21151219?from=search&amp;seid=14242621960551250161</a></span></p>]]></content>
    
    
    <categories>
      
      <category>others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>武大</tag>
      
      <tag>photo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>deepin&amp;vscode配置</title>
    <link href="/2020/06/%E4%B8%80%E6%AC%A1deepin%E5%AE%89%E8%A3%85%E5%8F%8Avscode%E7%9A%84c++%E9%85%8D%E7%BD%AE/"/>
    <url>/2020/06/%E4%B8%80%E6%AC%A1deepin%E5%AE%89%E8%A3%85%E5%8F%8Avscode%E7%9A%84c++%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="一次deepin安装及vscode的c配置"><a class="markdownIt-Anchor" href="#一次deepin安装及vscode的c配置"></a> 一次deepin安装及vscode的c++配置</h1><p>安装什么的照着deepin官方的安装方式不需要动脑真是件幸福的事，不过还是小心选择分区。反正安装好以后，对于EFI分区的文件最好做个备份(Diskgenius)，顺便看看启动项对应的是哪个文件(Easyuefi)，以后出问题好恢复。我默认的就deepin启动项，其次就算黑苹果，他们的引导都能开启windows，如果还是想默认进入windows建议在windows中使用easyuefi修改启动项，需要进入deepin的话就开机时按esc或f8（或其他键，看笔记本厂商或主板商的设置），选择deepin的启动项。<br /><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/一次deepin安装及vscode的c++配置/1586073360913-908ea1a4-a45d-4455-99f7-d5b66fa76064.png" align="middle" /><br />多窗口下win+w<br /><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/一次deepin安装及vscode的c++配置/1586073581514-7e2d8d29-99f5-4714-a327-74fc86dbd5c3.png.yasuo.jpg" align="middle" /><br />还是挺好看的<br />进去以后可以根据个人喜好调整一些基本设置，包括主题、壁纸等等(但好像生效范围很小，诸如文件管理器等需要在右上方三横线的图标那里修改)，个人建议把鼠标和触摸板的相关设置改一下，输入法良心的带了配置完善的搜狗(让manjaro kde中装搜狗绝望的人哭泣)，建议调整一下候选项的翻页键(个人习惯pg up、pg down)，搜狗默认的皮肤也不大好看，改改改。（美化不是重点，但谁叫好看让人愉悦呢）</p><p>需要注意的是，在windows下和mac os下的部分文件(夹)哪怕以root管理都是没有读写权限的(e.g.onedrive的同步文件夹无法打开)。此外建议把Windows常用的文件夹右键添加一下书签或者标记颜色，方便找，也方便同步，如图：<br /><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/一次deepin安装及vscode的c++配置/1586075611961-faeb5a50-9177-4a10-9b72-f64f14963b1a.png" alt="深度截图_选择区域_20200405162945.png" align="middle" /><br />其他盘和分区都能正常识别<br />deepin下的快捷键和windows、mac下不太一样，可以自行搜索一下，也可参考：<img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/%E4%B8%80%E6%AC%A1deepin%E5%AE%89%E8%A3%85%E5%8F%8Avscode%E7%9A%84c++%E9%85%8D%E7%BD%AE/1586071434771-eacc6e5c-50d9-4bd5-a3ef-105e72b8137f.png" alt="1618264-20190524082922760-1442795308.png" /><br />常用软件也安装一下，如vscode、qq(deepin wine)、wechat(deepin wine)等等，自带的软件商店都可找到，算挺方便的，有些软件比较旧建议更新(尤其是wps，此处大赞wps，真～良心软件，甚至树莓派的linux下也能使用，linux平台完全无广告，点名批评腾讯，逼得人只能通过wine来兼容，小bug不断)，跨平台的好软件如utools(用了就知道)、typora(markdown书写软件)、vscode(我就是拿linux来编程的。。。）、vlc(强大的视频播放软件)、matrix(下载器）对我来说也是必装，百度网盘的linux端限速没那么残忍，GIMP拿来顺手修个图，teamviewer拿来远程桌面……其他的自行发现吧。<br />chrome当然还要装上顺手的扩展：raindrop, dark reader, 沙拉查词, onetab, videodownload helper, adblock, momentum/infinity……不过我当然更喜欢不作恶的Firefox(火狐浏览器），firefox可以在国内直接使用账号同步和插件商店，但如果windows上正在使用且有账号，那么deepin中记得选择火狐中国版，否则默认的是服务器在国外的版本，账号信息不同步。<br />vscode配置c/c<ins>参考 ( 其他linux发行版也可类似，基本只有包管理不同）：上手先开终端 gcc -v, g</ins> -v, gdb -v，cmake --version 查看版本信息，如果则进行安装，debain系的linux（包括ubuntu、deepin等）直接</p><pre><code class="hljs bash">sudo apt-get install gcc g++ cmake gdb</code></pre><p>Arch系的pacman和Fedora的rpm等等也差不多。<br />在vscode中安装扩展，左侧上方最后一个图标，搜索c/c++，第一个就是。然后自己在某个地方建个文件夹，用vscode打开，新建helloworld.cpp，内容如下（反正看这个的都会写，当然可以随意,主要是要测试输入输出，调试以及头文件能否正确包含）</p><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> <span class="hljs-keyword">const</span> *argv[])</span></span><span class="hljs-function"></span>&#123;    <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;hello world!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;    <span class="hljs-keyword">int</span> x,i=<span class="hljs-number">0</span>;    <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;input a number&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;    <span class="hljs-built_in">cin</span>&gt;&gt;x;    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;x;i++)    &#123;        <span class="hljs-built_in">cout</span>&lt;&lt; i*<span class="hljs-number">9</span> &lt;&lt; <span class="hljs-built_in">endl</span>;    &#125;    */    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;</code></pre><p>按下ctrl+p，输入&gt;task，选择configure task，在tasks.json中输入（建议先看到底，看完再调）</p><pre><code class="hljs json">&#123;  <span class="hljs-comment">// tasks.json</span>    <span class="hljs-attr">&quot;tasks&quot;</span>: [        &#123;            <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;shell&quot;</span>,            <span class="hljs-attr">&quot;label&quot;</span>: <span class="hljs-string">&quot;g++ build active file&quot;</span>,            <span class="hljs-attr">&quot;command&quot;</span>: <span class="hljs-string">&quot;/usr/bin/g++&quot;</span>, <span class="hljs-comment">//使用的命令</span>            <span class="hljs-attr">&quot;args&quot;</span>: [                <span class="hljs-string">&quot;-g&quot;</span>,                <span class="hljs-string">&quot;$&#123;file&#125;&quot;</span>,                <span class="hljs-string">&quot;-o&quot;</span>,                <span class="hljs-string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span>            ],<span class="hljs-comment">//调用g++时使用的参数，fileDirname为目录，</span>          <span class="hljs-comment">//fileBasenameNoExtension为不带后缀的文件名</span>          <span class="hljs-comment">//也就是把当前文件编译为同目录下不带后缀的同名可执行文件</span>            <span class="hljs-attr">&quot;options&quot;</span>: &#123;                <span class="hljs-attr">&quot;cwd&quot;</span>: <span class="hljs-string">&quot;/usr/bin&quot;</span>            &#125;        &#125;,            ],    <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-string">&quot;2.0.0&quot;</span>&#125;</code></pre><p>然后依次配置c_cpp_properties.json、launch.json，如图<br /><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/%E4%B8%80%E6%AC%A1deepin%E5%AE%89%E8%A3%85%E5%8F%8Avscode%E7%9A%84c++%E9%85%8D%E7%BD%AE/1586072397570-e2f3b366-b403-485b-ab3d-49e148ac6be5.png" alt="深度截图_选择区域_20200405153914.png" /><br />配置内容如下：</p><pre><code class="hljs json">&#123; <span class="hljs-comment">// c_cpp_properties.json</span>    <span class="hljs-attr">&quot;configurations&quot;</span>: [        &#123;            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;Linux&quot;</span>,            <span class="hljs-attr">&quot;includePath&quot;</span>: [                <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;/**&quot;</span>            ],            <span class="hljs-attr">&quot;defines&quot;</span>: [],            <span class="hljs-attr">&quot;compilerPath&quot;</span>: <span class="hljs-string">&quot;/usr/bin/gcc&quot;</span>,            <span class="hljs-attr">&quot;cStandard&quot;</span>: <span class="hljs-string">&quot;c11&quot;</span>,            <span class="hljs-attr">&quot;cppStandard&quot;</span>: <span class="hljs-string">&quot;c++17&quot;</span>,            <span class="hljs-attr">&quot;intelliSenseMode&quot;</span>: <span class="hljs-string">&quot;gcc-x64&quot;</span>        &#125;    ],    <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-number">4</span>&#125;</code></pre><pre><code class="hljs json">&#123;    <span class="hljs-comment">// launch.json</span>    <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-string">&quot;0.2.0&quot;</span>,    <span class="hljs-attr">&quot;configurations&quot;</span>: [        &#123;            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;(gdb) Launch&quot;</span>,            <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;cppdbg&quot;</span>,            <span class="hljs-attr">&quot;request&quot;</span>: <span class="hljs-string">&quot;launch&quot;</span>,            <span class="hljs-attr">&quot;program&quot;</span>: <span class="hljs-string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span>,            <span class="hljs-attr">&quot;args&quot;</span>: [],            <span class="hljs-attr">&quot;stopAtEntry&quot;</span>: <span class="hljs-literal">false</span>,            <span class="hljs-attr">&quot;cwd&quot;</span>: <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;&quot;</span>,            <span class="hljs-attr">&quot;environment&quot;</span>: [],            <span class="hljs-attr">&quot;externalConsole&quot;</span>: <span class="hljs-literal">false</span>,            <span class="hljs-attr">&quot;MIMode&quot;</span>: <span class="hljs-string">&quot;gdb&quot;</span>,            <span class="hljs-attr">&quot;setupCommands&quot;</span>: [                &#123;                    <span class="hljs-attr">&quot;description&quot;</span>: <span class="hljs-string">&quot;为 gdb 启用整齐打印&quot;</span>,                    <span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;-enable-pretty-printing&quot;</span>,                    <span class="hljs-attr">&quot;ignoreFailures&quot;</span>: <span class="hljs-literal">true</span>                &#125;            ],            <span class="hljs-attr">&quot;preLaunchTask&quot;</span>: <span class="hljs-string">&quot;g++ build active file&quot;</span>,            <span class="hljs-attr">&quot;miDebuggerPath&quot;</span>: <span class="hljs-string">&quot;/usr/bin/gdb&quot;</span>        &#125;    ]&#125;</code></pre><p>记得都要ctrl+s保存，然后回到刚才的cpp中F5开始调试，你也可以先不写前面的launch，在这一步再根据弹出的来输入配置文件<br /><img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/%E4%B8%80%E6%AC%A1deepin%E5%AE%89%E8%A3%85%E5%8F%8Avscode%E7%9A%84c++%E9%85%8D%E7%BD%AE/1586072877308-533afea6-6ae9-4d32-ac83-0d2ce8069e26.png" alt="深度截图_选择区域_20200405154737.png" /><br />正常情况下直接F5就可以愉快得进行调试啦，可以设置断点来看看，看起来正常<img src="https://cdn.jsdelivr.net/gh/kzwrime/kzwrime.github.io/img/%E4%B8%80%E6%AC%A1deepin%E5%AE%89%E8%A3%85%E5%8F%8Avscode%E7%9A%84c++%E9%85%8D%E7%BD%AE/1586073246998-d148d4e4-a441-4102-9a8c-74e74c6c1de4.png" alt="深度截图_dde-desktop_20200405155356.png" /><br />我实际在操作的时候重启了一遍，断点中断再继续的时候提示没有中间的汇编文件，如果出现了奇奇怪怪的问题可以再搜索一下，或者先重启一遍（这真是能力不足得解决玄学问题的好方式）不过作为linux的学习者当然要学会直接解决问题，服务器总不能随意重启停机。。。<br />暂时deepin就配置到这里，什么时候写个黑苹果教程也是不错的。</p>]]></content>
    
    
    <categories>
      
      <category>环境配置</category>
      
    </categories>
    
    
    <tags>
      
      <tag>c++</tag>
      
      <tag>环境配置</tag>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>对希罗多德的课堂发言</title>
    <link href="/2020/06/%E5%B8%8C%E7%BD%97%E5%A4%9A%E5%BE%B7%E6%89%B9%E5%88%A4%E5%BE%97%E5%8E%BB%E5%8F%99%E3%80%81%E8%AE%AE%E5%8E%86%E5%8F%B2%EF%BC%8C%E5%A4%9A%E6%96%B9%E9%9D%A2%E5%85%B7%E6%9C%89%E5%BC%80%E5%88%9B%E6%80%A7/"/>
    <url>/2020/06/%E5%B8%8C%E7%BD%97%E5%A4%9A%E5%BE%B7%E6%89%B9%E5%88%A4%E5%BE%97%E5%8E%BB%E5%8F%99%E3%80%81%E8%AE%AE%E5%8E%86%E5%8F%B2%EF%BC%8C%E5%A4%9A%E6%96%B9%E9%9D%A2%E5%85%B7%E6%9C%89%E5%BC%80%E5%88%9B%E6%80%A7/</url>
    
    <content type="html"><![CDATA[<h2 id="希罗多德批判得去叙-议历史多方面具有开创性"><a class="markdownIt-Anchor" href="#希罗多德批判得去叙-议历史多方面具有开创性"></a> 希罗多德批判得去叙、议历史，多方面具有开创性</h2><h3 id="回顾何为历史"><a class="markdownIt-Anchor" href="#回顾何为历史"></a> 回顾何为历史</h3><p>前面的同学们就希罗多德到底是历史之父还是谎言之父已经有了不少探讨，追根逐源，要讨论何为历史之父，必当明确<strong>何为历史</strong>，既然希罗多德被西方人成为历史之父，首先我们要看看他们对历史一般性的定义是怎么样的。</p><blockquote><p>History (from Greek ἱστορία, historia, meaning ‘inquiry; knowledge acquired by investigation’) is the past as it is described in written documents, and the study thereof. Events occurring before written records are considered prehistory. “History” is an umbrella term that relates to past events as well as the memory, discovery, collection, organization, presentation, and interpretation of information about these events. Scholars who write about history are called historians.</p></blockquote><p>历史（源自希腊语<em>historia</em>，意为“探究；通过探究获得的知识”）是书面文件中所描述的过去以及对它的研究。书面记录之前发生的事件被认为是历史的。”“历史”是一个总括性术语，它涉及过去的事件以及有关这些事件的信息的记忆、发现、收集、组织、呈现和解释。写历史的学者被称为历史学家。</p><blockquote><p>History also includes the academic discipline which uses a narrative to examine and analyse a sequence of past events, and objectively determine the patterns of cause and effect that determine them. Historians sometimes debate the nature of history and its usefulness by discussing the study of the discipline as an end in itself and as a way of providing “perspective” on the problems of the present.</p></blockquote><p>历史也包涵有一门学术学科的意思，它用一种叙述方式来审视和分析一系列过去的事件，并客观地确定决定这些事件的因果关系。历史学家有时会通过讨论将这门学科，并把对其研究作为其本身的目的和一种方式来探究历史的性质及其有用性对当前问题提供“视角”。</p><h3 id="对照希罗多德的历史"><a class="markdownIt-Anchor" href="#对照希罗多德的历史"></a> 对照希罗多德的《历史》</h3><p>对应这些定义不难看出，对于总括性名词 <em>历史</em> 来说，希罗多德确实配得上史学之父，关注过去的事，在记忆、发现、收集、组织、呈现、解释牵线，他做得很好，甚至于说这是他开拓创新的。</p><p>在*《历史》*的序言中，希罗多德说道:</p><blockquote><p>哈利卡尔那索斯人希罗多德将他的探究( historiēs) 呈现( apodexis) 在这里，是为了人类 ( anthrōpōn) 过去的事情不至于随时间而泯灭，也为了希腊人和野蛮人所做出的那些伟大的、值得惊叹的功绩( erga megala te kai thōmasta) ，尤其是他们之间爆发战争的原因，不至于堙没。</p></blockquote><p>注意到两个关键词，探究（即历史）和呈现。无论是呈现功绩还是推测原因，<em>histor</em>进化出的词汇<em>historia</em>正是逐步在希罗多德呈现着他的探究的公元前6世纪左右，由实地亲眼所见，发展到对待由或真或假事件转换成的意念和文字形式存在的历史，以思辨的形式去逼近客观事实或客观规律。而理性，把主观的辩证思考加诸于客观的历史事件，我认为或许就是希罗多德的创新所在。</p><p>他不仅仅是流水账式的记录过去所发生的事情，还试图将事情的前因后果、来龙去脉勾勒出来，化干瘪的历史灰烬为条理化系统化的历史之网，”野蛮人“、”功绩“等词汇更表明他把道德与政治理念融入到这些历史的因果关系中去。虽然除了存粹的史料与分析之外，*《历史》*中包含了不少文学、地理学、民族学等等偏离的历史，尤其是多出来的”习俗“这一主题与修昔底德的”政体“和”战争“相比格外突兀。但由于时代性，历史尚未成为一个独立的学科，正如希罗多德所言，他只报告他被告知的。哪怕这些信息有的是幻想的，有的不准确，但丰富的资料却也为后世的人提供了一个借鉴批判的样本。而批判又给予了正确的判断解释一个理论基础。历史学的目的，不正是想凭借着一定的科学事实去探究人与事的因果变化，揭并示出发展的真缔亦即历史规律与历史哲学。由此，希罗多德功不可没。</p><h3 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h3><p>时过境迁，希罗多德那富有传说色彩的著作已经早已不符合严谨的历史，但正是他利用和发展了探究的方法，疑则存疑得记录了关于希波战争的众多”历史“，并对其中的原因联系做出了揣测与推断，奠定了西方研究历史方法的基石，他缔造了以历史为中心，连续而松散得、喻议于叙的宏大*《历史》*，能被西塞罗授予”历史之父“的崇高头衔，他当之无愧。</p>]]></content>
    
    
    <categories>
      
      <category>杂思随想</category>
      
    </categories>
    
    
    <tags>
      
      <tag>哲学</tag>
      
      <tag>随笔</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
